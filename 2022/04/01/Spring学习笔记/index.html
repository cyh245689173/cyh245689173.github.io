<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="ä¸¸äº†é¸­"><meta name="copyright" content="ä¸¸äº†é¸­"><meta name="generator" content="Hexo 6.2.0"><meta name="theme" content="hexo-theme-yun"><title>Springå­¦ä¹ ç¬”è®° | ä¸¸äº†é¸­çš„åšå®¢</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.3.3/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link rel="icon" type="image/png" href="/images/32x32.ico"><link rel="mask-icon" href="/images/32x32.ico" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"cyh245689173.github.io","root":"/","title":"ä¸¸äº†é¸­çš„åšå®¢","version":"1.10.4","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æƒ³è¦æœäº›ä»€ä¹ˆï¼Ÿ","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"localsearch":{"enable":"auto","trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"fireworks":{"colors":["32, 242, 242"]},"vendors":{"darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><meta name="description" content="ä¸€ã€Spring1.1 Webé¡¹ç›®å¼€å‘ä¸­çš„è€¦åˆåº¦çš„é—®é¢˜ åœ¨Servletä¸­è°ƒç”¨serviceçš„æ–¹æ³•ï¼Œåˆ™éœ€è¦åœ¨Servletç±»ä¸­é€šè¿‡newå…³é”®å­—æ¥åˆ›å»ºServiceçš„å®ä¾‹  123public interface ProductService&amp;#123;    public List&lt;Product&gt; listProducts();&amp;#125;  12345public class Pr">
<meta property="og:type" content="article">
<meta property="og:title" content="Springå­¦ä¹ ç¬”è®°">
<meta property="og:url" content="https://cyh245689173.github.io/2022/04/01/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="ä¸¸äº†é¸­çš„åšå®¢">
<meta property="og:description" content="ä¸€ã€Spring1.1 Webé¡¹ç›®å¼€å‘ä¸­çš„è€¦åˆåº¦çš„é—®é¢˜ åœ¨Servletä¸­è°ƒç”¨serviceçš„æ–¹æ³•ï¼Œåˆ™éœ€è¦åœ¨Servletç±»ä¸­é€šè¿‡newå…³é”®å­—æ¥åˆ›å»ºServiceçš„å®ä¾‹  123public interface ProductService&amp;#123;    public List&lt;Product&gt; listProducts();&amp;#125;  12345public class Pr">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cyh245689173.github.io/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220415090803104.png">
<meta property="og:image" content="https://cyh245689173.github.io/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1616999162162.png">
<meta property="og:image" content="https://cyh245689173.github.io/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1617001027208.png">
<meta property="og:image" content="https://cyh245689173.github.io/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220415184022329.png">
<meta property="article:published_time" content="2022-04-01T02:00:37.000Z">
<meta property="article:modified_time" content="2022-04-29T03:23:22.601Z">
<meta property="article:author" content="ä¸¸äº†é¸­">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cyh245689173.github.io/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220415090803104.png"><script>(function() {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="ä¸¸äº†é¸­"><img width="96" loading="lazy" src="/images/kedaya.jpg" alt="ä¸¸äº†é¸­"><span class="site-author-status" title="å†å°çš„åŠªåŠ›ä¹˜ä»¥365éƒ½å¾ˆæ˜æ˜¾">ğŸ˜</span></a><div class="site-author-name"><a href="/about/">ä¸¸äº†é¸­</a></div><span class="site-name">ä¸¸äº†é¸­çš„åšå®¢</span><sub class="site-subtitle">è®°å½•å­¦ä¹ ç”Ÿæ´»çš„ç‚¹ç‚¹æ»´æ»´</sub><div class="site-description">ä¿¡æ‰‹æ‹ˆæ¥çš„ä»å®¹ï¼Œéƒ½æ˜¯åšç§¯è–„å‘çš„æ²‰æ·€ã€‚</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">127</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">8</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">8</span></a></div><a class="site-state-item hty-icon-button" target="_blank" rel="noopener" href="https://www.kdy.icu/" title="æ–‡æ¡£"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/cyh245689173" title="GayHub" target="_blank" style="color:#6e5494"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1696797616" title="ç½‘æŠ‘äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><span class="icon iconify" data-icon="ri:netease-cloud-music-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/248628386" title="å“”å“©å“”å“©" target="_blank" style="color:#FF8EB3"><span class="icon iconify" data-icon="ri:bilibili-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/9286/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220729090533.jpg" title="åŠ æˆ‘å¾®ä¿¡" target="_blank" style="color:#1AAD19"><span class="icon iconify" data-icon="ri:wechat-2-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="è½»æ¾ä¸€åˆ»" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81Spring"><span class="toc-text">ä¸€ã€Spring</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Web%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E8%80%A6%E5%90%88%E5%BA%A6%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text">1.1 Webé¡¹ç›®å¼€å‘ä¸­çš„è€¦åˆåº¦çš„é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-%E9%9D%A2%E5%90%91%E6%8E%A5%E5%8F%A3%E7%BC%96%E7%A8%8B"><span class="toc-text">1.2 é¢å‘æ¥å£ç¼–ç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-Spring%E7%AE%80%E4%BB%8B"><span class="toc-text">1.3 Springç®€ä»‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-Spring%E6%9E%B6%E6%9E%84"><span class="toc-text">1.4 Springæ¶æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-Core-Container"><span class="toc-text">1. Core Container</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-AOP%E3%80%81Aspects"><span class="toc-text">2. AOPã€Aspects</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-web"><span class="toc-text">3. web</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4-Data-Access"><span class="toc-text">4. Data Access</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5-Test"><span class="toc-text">5. Test</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-Spring-Framework%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF"><span class="toc-text">1.5 Spring Frameworkå­¦ä¹ è·¯çº¿</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Spring-IoC-%E2%80%94-%E5%9F%BA%E4%BA%8EXML"><span class="toc-text">äºŒã€Spring IoC â€” åŸºäºXML</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-Spring%E6%A1%86%E6%9E%B6%E9%83%A8%E7%BD%B2%EF%BC%88Ioc%EF%BC%89"><span class="toc-text">2.1 Springæ¡†æ¶éƒ¨ç½²ï¼ˆIocï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BAMaven%E5%B7%A5%E7%A8%8B"><span class="toc-text">1.åˆ›å»ºMavenå·¥ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B7%BB%E5%8A%A0SpringIoC%E4%BE%9D%E8%B5%96"><span class="toc-text">2. æ·»åŠ SpringIoCä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%9B%E5%BB%BASpring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">3. åˆ›å»ºSpringé…ç½®æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E5%A6%82%E4%BD%95%E5%AE%9A%E5%88%B6%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%A8%A1%E6%9D%BF"><span class="toc-text">3.1 å¦‚ä½•å®šåˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-SpringIOC%E4%BD%BF%E7%94%A8"><span class="toc-text">2.2 SpringIOCä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="toc-text">1.åˆ›å»ºä¸€ä¸ªå®ä½“ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9C%A8Spring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E9%85%8D%E7%BD%AE%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="toc-text">2.åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®å®ä½“ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%9D%E5%A7%8B%E5%8C%96Spring%E5%AF%B9%E8%B1%A1%E5%B7%A5%E5%8E%82%EF%BC%8C%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1"><span class="toc-text">3.åˆå§‹åŒ–Springå¯¹è±¡å·¥å‚ï¼Œè·å–å¯¹è±¡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-IoC%E5%92%8CDI"><span class="toc-text">2.3 IoCå’ŒDI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-IoC"><span class="toc-text">1. IoC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-DI"><span class="toc-text">2. DI</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-DI%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-text">2.4 DIä¾èµ–æ³¨å…¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">1.ä¾èµ–æ³¨å…¥çš„ä¸‰ç§æ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-set%E6%96%B9%E6%B3%95%E6%B3%A8%E5%85%A5"><span class="toc-text">2. setæ–¹æ³•æ³¨å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9E%84%E9%80%A0%E5%99%A8%E6%B3%A8%E5%85%A5"><span class="toc-text">3.æ„é€ å™¨æ³¨å…¥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-Bean%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">2.5 Beançš„ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-Bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95"><span class="toc-text">2.6 Beançš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D"><span class="toc-text">2.7 è‡ªåŠ¨è£…é…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-8-SpringIoC%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-text">2.8 SpringIoCå·¥ä½œåŸç†</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81Spring-IoC-%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3"><span class="toc-text">ä¸‰ã€Spring IoC-åŸºäºæ³¨è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-Spring-%E6%A1%86%E6%9E%B6%E9%83%A8%E7%BD%B2"><span class="toc-text">3.1 Spring æ¡†æ¶éƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE"><span class="toc-text">1.åˆ›å»ºMavené¡¹ç›®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B7%BB%E5%8A%A0SpringIoC%E4%BE%9D%E8%B5%96-1"><span class="toc-text">2.æ·»åŠ SpringIoCä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%9B%E5%BB%BASpring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-1"><span class="toc-text">3.åˆ›å»ºSpringé…ç½®æ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-SpringIoC%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="toc-text">3.2 SpringIoCå¸¸ç”¨æ³¨è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Component"><span class="toc-text">1. @Component</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Scope"><span class="toc-text">2. @Scope</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Lazy"><span class="toc-text">3. @Lazy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-PostConstruct"><span class="toc-text">4. @PostConstruct</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-PreDestroy"><span class="toc-text">5. @PreDestroy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Autowired"><span class="toc-text">6. @Autowired</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-Resource"><span class="toc-text">7.@Resource</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E4%BB%A3%E7%90%86%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-text">å››ã€ä»£ç†è®¾è®¡æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-%E7%94%9F%E6%B4%BB%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%90%86"><span class="toc-text">4.1 ç”Ÿæ´»ä¸­çš„ä»£ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-text">4.2 é™æ€ä»£ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-text">4.3 åŠ¨æ€ä»£ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-JDK%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-text">1. JDKåŠ¨æ€ä»£ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-CGLib%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-text">2. CGLibåŠ¨æ€ä»£ç†</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81-Spring-AOP"><span class="toc-text">äº”ã€ Spring AOP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-AOP%E6%A6%82%E5%BF%B5"><span class="toc-text">5.1 AOPæ¦‚å¿µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-Spring-AOP%E6%A1%86%E6%9E%B6%E9%83%A8%E7%BD%B2"><span class="toc-text">5.2 Spring AOPæ¡†æ¶éƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BAMaven%E9%A1%B9%E7%9B%AE-1"><span class="toc-text">1. åˆ›å»ºMavené¡¹ç›®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96"><span class="toc-text">2. æ·»åŠ ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%9B%E5%BB%BASpring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-2"><span class="toc-text">3.åˆ›å»ºSpringé…ç½®æ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-AOP%E9%85%8D%E7%BD%AE-%E8%AF%AD%E5%8F%A5XML"><span class="toc-text">5.3 AOPé…ç½®- è¯­å¥XML</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%B1%BB%EF%BC%8C%E5%AE%9A%E4%B9%89%E8%A6%81%E6%B7%BB%E5%8A%A0%E7%9A%84%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91"><span class="toc-text">1.åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®šä¹‰è¦æ·»åŠ çš„ä¸šåŠ¡é€»è¾‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%85%8D%E7%BD%AEAOP"><span class="toc-text">2. é…ç½®AOP</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-%E5%88%87%E5%85%A5%E7%82%B9%E7%9A%84%E5%A3%B0%E6%98%8E"><span class="toc-text">5.4 åˆ‡å…¥ç‚¹çš„å£°æ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%90%84%E7%A7%8D%E5%88%87%E5%85%A5%E7%82%B9%E5%A3%B0%E6%98%8E%E6%96%B9%E5%BC%8F"><span class="toc-text">1. å„ç§åˆ‡å…¥ç‚¹å£°æ˜æ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-AOP%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">2. AOPä½¿ç”¨æ³¨æ„äº‹é¡¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-AOP%E9%80%9A%E7%9F%A5%E7%AD%96%E7%95%A5"><span class="toc-text">5.5 AOPé€šçŸ¥ç­–ç•¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9A%E4%B9%89%E5%88%87%E9%9D%A2%E7%B1%BB"><span class="toc-text">1.å®šä¹‰åˆ‡é¢ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%85%8D%E7%BD%AE%E5%88%87%E9%9D%A2%E7%B1%BB"><span class="toc-text">2. é…ç½®åˆ‡é¢ç±»</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E3%80%81Spring-AOP%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE"><span class="toc-text">å…­ã€Spring AOPæ³¨è§£é…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-Spring-AOP%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE%E6%A1%86%E6%9E%B6%E9%83%A8%E7%BD%B2"><span class="toc-text">6.1 Spring AOPæ³¨è§£é…ç½®æ¡†æ¶éƒ¨ç½²</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BAMaven%E5%B7%A5%E7%A8%8B-1"><span class="toc-text">1.åˆ›å»ºMavenå·¥ç¨‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%B7%BB%E5%8A%A0Spring%E4%BE%9D%E8%B5%96"><span class="toc-text">2.æ·»åŠ Springä¾èµ–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Spring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">3.Springé…ç½®æ–‡ä»¶</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-AOP%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B"><span class="toc-text">6.2 AOPæ³¨è§£é…ç½®æ¡ˆä¾‹</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83%E3%80%81Spring%E6%95%B4%E5%90%88MyBatis"><span class="toc-text">ä¸ƒã€Springæ•´åˆMyBatis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-Spring%E5%8F%AF%E4%BB%A5%E5%AF%B9MyBatis%E6%8F%90%E4%BE%9B%E5%93%AA%E4%BA%9B%E6%94%AF%E6%8C%81"><span class="toc-text">7.1 Springå¯ä»¥å¯¹MyBatisæä¾›å“ªäº›æ”¯æŒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-Spring%E6%95%B4%E5%90%88MyBatis%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-text">7.2 Springæ•´åˆMyBatiså‡†å¤‡å·¥ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BAMaven%E5%B7%A5%E7%A8%8B-2"><span class="toc-text">1.åˆ›å»ºMavenå·¥ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%83%A8%E7%BD%B2MyBatis%E6%A1%86%E6%9E%B6"><span class="toc-text">2.éƒ¨ç½²MyBatisæ¡†æ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%83%A8%E7%BD%B2Spring%E6%A1%86%E6%9E%B6"><span class="toc-text">3.éƒ¨ç½²Springæ¡†æ¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%B7%BB%E5%8A%A0Spring%E6%95%B4%E5%90%88MyBatis%E7%9A%84%E4%BE%9D%E8%B5%96"><span class="toc-text">4.æ·»åŠ Springæ•´åˆMyBatisçš„ä¾èµ–</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3-Spring%E6%95%B4%E5%90%88MyBatis%E6%95%B4%E5%90%88IoC%E9%85%8D%E7%BD%AE"><span class="toc-text">7.3 Springæ•´åˆMyBatisæ•´åˆIoCé…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B4%E5%90%88Druid%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-text">1.æ•´åˆDruidè¿æ¥æ± </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B4%E5%90%88MyBatis-%E5%88%9B%E5%BB%BASQLSessionFactory"><span class="toc-text">2.æ•´åˆMyBatis-åˆ›å»ºSQLSessionFactory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%95%B4%E5%90%88MyBatis-%E5%88%9B%E5%BB%BAMapper"><span class="toc-text">3. æ•´åˆMyBatis-åˆ›å»ºMapper</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-4-Spring%E6%95%B4%E5%90%88MyBatis%E6%95%B4%E5%90%88AOP%E9%85%8D%E7%BD%AE"><span class="toc-text">7.4 Springæ•´åˆMyBatisæ•´åˆAOPé…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-text">1.äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://cyh245689173.github.io/2022/04/01/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="ä¸¸äº†é¸­"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="ä¸¸äº†é¸­çš„åšå®¢"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Springå­¦ä¹ ç¬”è®°</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <span class="post-meta-icon-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2022-04-01 10:00:37" itemprop="dateCreated datePublished" datetime="2022-04-01T10:00:37+08:00">2022-04-01</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <span class="post-meta-icon-text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-04-29 11:23:22" itemprop="dateModified" datetime="2022-04-29T11:23:22+08:00">2022-04-29</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="æœ¬æ–‡å­—æ•°">9.7k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="é˜…è¯»æ—¶é•¿">45m</span></span></span><span class="leancloud_visitors" id="/2022/04/01/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" data-flag-title="Springå­¦ä¹ ç¬”è®°"><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ¬¡æ•°"><span class="icon iconify" data-icon="ri:eye-line"></span> <span class="leancloud-visitors-count"></span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/%E5%90%8E%E7%AB%AF/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">åç«¯</span></a></span></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="ä¸€ã€Spring"><a href="#ä¸€ã€Spring" class="headerlink" title="ä¸€ã€Spring"></a>ä¸€ã€Spring</h1><h2 id="1-1-Webé¡¹ç›®å¼€å‘ä¸­çš„è€¦åˆåº¦çš„é—®é¢˜"><a href="#1-1-Webé¡¹ç›®å¼€å‘ä¸­çš„è€¦åˆåº¦çš„é—®é¢˜" class="headerlink" title="1.1 Webé¡¹ç›®å¼€å‘ä¸­çš„è€¦åˆåº¦çš„é—®é¢˜"></a>1.1 Webé¡¹ç›®å¼€å‘ä¸­çš„è€¦åˆåº¦çš„é—®é¢˜</h2><ul>
<li>åœ¨Servletä¸­è°ƒç”¨serviceçš„æ–¹æ³•ï¼Œåˆ™éœ€è¦åœ¨Servletç±»ä¸­é€šè¿‡newå…³é”®å­—æ¥åˆ›å»ºServiceçš„å®ä¾‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductService</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Product&gt; <span class="title function_">listProducts</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductServiceImpl1</span> <span class="keyword">implements</span> <span class="title class_">ProductService</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Product&gt; <span class="title function_">listProducts</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//æŸ¥è¯¢çƒ­é”€å•†å“</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductServiceImpl2</span> <span class="keyword">implements</span> <span class="title class_">ProductService</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Product&gt; <span class="title function_">listProducts</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//æŸ¥è¯¢å¥½è¯„å•†å“</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductListServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//åœ¨servletä¸­ä½¿ç”¨newå…³é”®å­—åˆ›å»ºProductServiceImpl1å¯¹è±¡ï¼Œå¢åŠ äº†servletå’Œserviceçš„è€¦åˆåº¦</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">ProductService</span> <span class="variable">productService</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ProductServiceImpl1</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request,HttpServletResponse response)</span>&#123;</span><br><span class="line">        doPost(request,response);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest request,HttpServletResponse response)</span>&#123;</span><br><span class="line">        productService.listProducts();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨serviceå®ç°ç±»ä¸­éœ€è¦è°ƒç”¨DAOä¸­çš„æ–¹æ³•ï¼Œä¹Ÿéœ€è¦åœ¨servcieå®ç°ç±»é€šè¿‡newå…³é”®å­—åˆ›å»ºDAOå®ç°ç±»å¯¹è±¡</li>
<li>å¦‚æœä½¿ç”¨newå…³é”®å­—åˆ›å»ºå¯¹è±¡ï¼š<ul>
<li>å¤±å»äº†é¢å‘æ¥å£ç¼–ç¨‹çš„çµæ´»æ€§</li>
<li>ä»£ç çš„ä¾µå…¥æ€§å¢å¼ºï¼ˆ<strong>å¢åŠ äº†è€¦åˆåº¦</strong>ï¼‰ã€é™ä½äº†ä»£ç çš„çµæ´»æ€§</li>
<li>å¢å¼ºé¡¹ç›®çš„æ‰©å±•æ€§</li>
</ul>
</li>
</ul>
<h2 id="1-2-é¢å‘æ¥å£ç¼–ç¨‹"><a href="#1-2-é¢å‘æ¥å£ç¼–ç¨‹" class="headerlink" title="1.2 é¢å‘æ¥å£ç¼–ç¨‹"></a>1.2 é¢å‘æ¥å£ç¼–ç¨‹</h2><table>
<thead>
<tr>
<th>é¢å‘æ¥å£ç¼–ç¨‹</th>
</tr>
</thead>
<tbody><tr>
<td></td>
</tr>
</tbody></table>
<p><code>è§£å†³æ–¹æ¡ˆ</code>ï¼šåœ¨Servletä¸­å®šä¹‰Serviceæ¥å£çš„å¯¹è±¡å˜é‡ï¼Œä¸ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå®ç°ç±»å¯¹è±¡ï¼Œåœ¨servletçš„å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œé€šè¿‡åå°„åŠ¨æ€çš„ç»™Serviceå¯¹è±¡å˜é‡èµ‹å€¼ã€‚</p>
<p><code>å¦‚ä½•å®ç°</code>ï¼šSpringå¯ä»¥åšåˆ°ï¼ï¼ï¼</p>
<h2 id="1-3-Springç®€ä»‹"><a href="#1-3-Springç®€ä»‹" class="headerlink" title="1.3 Springç®€ä»‹"></a>1.3 Springç®€ä»‹</h2><blockquote>
<p>Springæ˜¯ä¸€ä¸ª<code>è½»é‡çº§çš„æ§åˆ¶åè½¬å’Œé¢å‘åˆ‡é¢çš„å®¹å™¨</code>æ¡†æ¶ï¼Œç”¨æ¥è§£å†³ä¼ä¸šé¡¹ç›®å¼€å‘çš„å¤æ‚åº¦é—®é¢˜â€”è§£è€¦</p>
</blockquote>
<ul>
<li>è½»é‡çº§ï¼šä½“ç§¯å°ï¼Œå¯¹ä»£ç æ²¡æœ‰ä¾µå…¥æ€§</li>
<li>æ§åˆ¶åè½¬ï¼šIoCï¼ˆInverse of Controlï¼‰,æŠŠåˆ›å»ºå¯¹è±¡çš„å·¥ä½œäº¤ç”±Springå®Œæˆï¼ŒSpringåœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™åŒæ—¶å¯ä»¥å®Œæˆå¯¹è±¡å±æ€§èµ‹å€¼ï¼ˆDIï¼‰</li>
<li>é¢å‘åˆ‡é¢ï¼šAOPï¼ˆAspect Oriented Programmingï¼‰é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œå¯ä»¥åœ¨ä¸æ”¹å˜åŸæœ‰ä¸šåŠ¡é€»è¾‘çš„æƒ…å†µä¸‹å®ç°å¯¹ä¸šåŠ¡çš„å¢å¼º</li>
<li>å®¹å™¨ï¼šå®ä¾‹çš„å®¹å™¨ï¼Œç®¡ç†åˆ›å»ºçš„å¯¹è±¡</li>
</ul>
<h2 id="1-4-Springæ¶æ„"><a href="#1-4-Springæ¶æ„" class="headerlink" title="1.4 Springæ¶æ„"></a>1.4 Springæ¶æ„</h2><ul>
<li><p>å®˜ç½‘ <a target="_blank" rel="noopener" href="https://spring.io/">https://spring.io/</a></p>

</li>
<li><p>Springæ¶æ„å›¾</p>
<ul>
<li>Spring Frameworkæ˜¯Springç”Ÿæ€åœˆæœ€åŸºç¡€çš„é¡¹ç›®ï¼Œæ˜¯å…¶ä»–é¡¹ç›®çš„åŸºç¡€</li>
</ul>
</li>
</ul>
<h6 id="1-Core-Container"><a href="#1-Core-Container" class="headerlink" title="1. Core Container"></a>1. Core Container</h6><blockquote>
<p>Springæ ¸å¿ƒå®¹å™¨ç»„ä»¶ï¼Œç”¨äºå®Œæˆå®ä¾‹çš„åˆ›å»ºå’Œç®¡ç†</p>
<ul>
<li>core</li>
<li>beans   å®ä¾‹ç®¡ç†</li>
<li>context å®¹å™¨ä¸Šä¸‹æ–‡</li>
</ul>
</blockquote>
<h6 id="2-AOPã€Aspects"><a href="#2-AOPã€Aspects" class="headerlink" title="2. AOPã€Aspects"></a>2. AOPã€Aspects</h6><blockquote>
<p>Spring AOPç»„ä»¶ï¼Œå®ç°é¢å‘åˆ‡é¢ç¼–ç¨‹</p>
<ul>
<li>aop</li>
<li>aspects</li>
</ul>
</blockquote>
<h6 id="3-web"><a href="#3-web" class="headerlink" title="3. web"></a>3. web</h6><blockquote>
<p>Spring webç»„ä»¶å®é™…æŒ‡çš„æ˜¯SpringMVCæ¡†æ¶ï¼Œå®ç°webé¡¹ç›®çš„MVCæ§åˆ¶</p>
<ul>
<li>web (Springå¯¹webé¡¹ç›®çš„æ”¯æŒ)</li>
<li>webmvc (SpringMVCç»„ä»¶)</li>
</ul>
</blockquote>
<h6 id="4-Data-Access"><a href="#4-Data-Access" class="headerlink" title="4. Data Access"></a>4. Data Access</h6><blockquote>
<p>Springæ•°æ®è®¿é—®ç»„ä»¶ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªåŸºäºJDBCå°è£…çš„æŒä¹…å±‚æ¡†æ¶ï¼ˆå³ä½¿æ²¡æœ‰mybatisï¼ŒSpringä¹Ÿå¯ä»¥å®ŒæˆæŒä¹…åŒ–æ“ä½œï¼‰</p>
<ul>
<li>Data Accessï¼šæ•°æ®è®¿é—®</li>
<li>Data Integerationï¼šæ•°æ®é›†æˆ</li>
</ul>
</blockquote>
<h6 id="5-Test"><a href="#5-Test" class="headerlink" title="5. Test"></a>5. Test</h6><blockquote>
<p>Springçš„å•å…ƒæµ‹è¯•ç»„ä»¶ï¼Œæä¾›äº†Springç¯å¢ƒä¸‹çš„å•å…ƒæµ‹è¯•æ”¯æŒ</p>
<ul>
<li>test</li>
</ul>
</blockquote>
<h2 id="1-5-Spring-Frameworkå­¦ä¹ è·¯çº¿"><a href="#1-5-Spring-Frameworkå­¦ä¹ è·¯çº¿" class="headerlink" title="1.5 Spring Frameworkå­¦ä¹ è·¯çº¿"></a>1.5 Spring Frameworkå­¦ä¹ è·¯çº¿</h2><ol>
<li>æ ¸å¿ƒå®¹å™¨<ol>
<li>æ ¸å¿ƒæ¦‚å¿µï¼ˆIOCã€DIï¼‰</li>
<li>å®¹å™¨åŸºæœ¬æ“ä½œ</li>
</ol>
</li>
<li>æ•´åˆ<ol>
<li>æ•´åˆMyBatis</li>
</ol>
</li>
<li>AOP<ol>
<li>æ ¸å¿ƒæ¦‚å¿µ</li>
<li>AOPåŸºç¡€æ“ä½œ</li>
<li>AOPä½¿ç”¨å¼€å‘</li>
</ol>
</li>
<li>äº‹åŠ¡<ol>
<li>äº‹åŠ¡å®ç”¨å¼€å‘</li>
</ol>
</li>
<li>å®¶æ—<ol>
<li>SpringMVC</li>
<li>SpringBoot</li>
<li>SpringCloud</li>
</ol>
</li>
</ol>
<h1 id="äºŒã€Spring-IoC-â€”-åŸºäºXML"><a href="#äºŒã€Spring-IoC-â€”-åŸºäºXML" class="headerlink" title="äºŒã€Spring IoC â€” åŸºäºXML"></a>äºŒã€Spring IoC â€” åŸºäºXML</h1><h2 id="2-1-Springæ¡†æ¶éƒ¨ç½²ï¼ˆIocï¼‰"><a href="#2-1-Springæ¡†æ¶éƒ¨ç½²ï¼ˆIocï¼‰" class="headerlink" title="2.1 Springæ¡†æ¶éƒ¨ç½²ï¼ˆIocï¼‰"></a>2.1 Springæ¡†æ¶éƒ¨ç½²ï¼ˆIocï¼‰</h2><blockquote>
<p>SpringIoCå®¹å™¨ç»„ä»¶ï¼Œå¯ä»¥å®Œæˆå¯¹è±¡çš„åˆ›å»ºã€å¯¹è±¡å±æ€§çš„èµ‹å€¼ã€å¯¹è±¡ç®¡ç†</p>
</blockquote>
<h3 id="1-åˆ›å»ºMavenå·¥ç¨‹"><a href="#1-åˆ›å»ºMavenå·¥ç¨‹" class="headerlink" title="1.åˆ›å»ºMavenå·¥ç¨‹"></a>1.åˆ›å»ºMavenå·¥ç¨‹</h3><ul>
<li>Java</li>
<li>Web</li>
</ul>
<h3 id="2-æ·»åŠ SpringIoCä¾èµ–"><a href="#2-æ·»åŠ SpringIoCä¾èµ–" class="headerlink" title="2. æ·»åŠ SpringIoCä¾èµ–"></a>2. æ·»åŠ SpringIoCä¾èµ–</h3><ul>
<li>core</li>
<li>beans</li>
<li>aop</li>
<li>context</li>
<li>expression</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-beans --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.13.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.12.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.12.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-åˆ›å»ºSpringé…ç½®æ–‡ä»¶"><a href="#3-åˆ›å»ºSpringé…ç½®æ–‡ä»¶" class="headerlink" title="3. åˆ›å»ºSpringé…ç½®æ–‡ä»¶"></a>3. åˆ›å»ºSpringé…ç½®æ–‡ä»¶</h3><blockquote>
<p>é€šè¿‡é…ç½®æ–‡ä»¶â€œå‘Šè¯‰â€Springå®¹å™¨åˆ›å»ºä»€ä¹ˆå¯¹è±¡ï¼Œç»™å¯¹è±¡å±æ€§èµ‹ä»€ä¹ˆå€¼</p>
</blockquote>
<ul>
<li>åœ¨resourcesç›®å½•ä¸‹åˆ›å»ºåä¸º<code>applicationContext.xml</code>çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶åå¯ä»¥è‡ªå®šä¹‰ï¼Œä½†æ˜¯çº¦å®šä¿—æˆé€šç”¨ä½¿ç”¨è¿™ä¸ªï¼‰</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  å¯¹äºä¸€ä¸ªxmlæ–‡ä»¶å¦‚æœä½œä¸ºæ¡†æ¶çš„é…ç½®æ–‡ä»¶ï¼Œéœ€è¦éµå®ˆæ¡†æ¶çš„é…ç½®è§„åˆ™  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  é€šå¸¸ä¸€ä¸ªæ¡†æ¶ä¸ºäº†è®©å¼€å‘è€…èƒ½å¤Ÿæ­£ç¡®çš„é…ç½®ï¼Œéƒ½ä¼šæä¾›xmlçš„è§„èŒƒæ–‡ä»¶ï¼ˆdtd\xsdï¼‰  --&gt;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="3-1-å¦‚ä½•å®šåˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿"><a href="#3-1-å¦‚ä½•å®šåˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿" class="headerlink" title="3.1 å¦‚ä½•å®šåˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿"></a>3.1 å¦‚ä½•å®šåˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿</h4>



<h2 id="2-2-SpringIOCä½¿ç”¨"><a href="#2-2-SpringIOCä½¿ç”¨" class="headerlink" title="2.2 SpringIOCä½¿ç”¨"></a>2.2 SpringIOCä½¿ç”¨</h2><blockquote>
<p>ä½¿ç”¨SpringIOCç»„ä»¶åˆ›å»ºå¹¶ç®¡ç†å¯¹è±¡</p>
</blockquote>
<h3 id="1-åˆ›å»ºä¸€ä¸ªå®ä½“ç±»"><a href="#1-åˆ›å»ºä¸€ä¸ªå®ä½“ç±»" class="headerlink" title="1.åˆ›å»ºä¸€ä¸ªå®ä½“ç±»"></a>1.åˆ›å»ºä¸€ä¸ªå®ä½“ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String stuNum;</span><br><span class="line">    <span class="keyword">private</span> String stuName;</span><br><span class="line">    <span class="keyword">private</span> String stuGender;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> stuAge;</span><br><span class="line">    <span class="keyword">private</span> Date enterenceTime;<span class="comment">//å…¥å­¦æ—¥æœŸ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getStuNum</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stuNum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStuNum</span><span class="params">(String stuNum)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.stuNum = stuNum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getStuName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stuName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStuName</span><span class="params">(String stuName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.stuName = stuName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;stuNum=&#x27;&quot;</span> + stuNum + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, stuName=&#x27;&quot;</span> + stuName + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, stuGender=&#x27;&quot;</span> + stuGender + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, stuAge=&quot;</span> + stuAge +</span><br><span class="line">                <span class="string">&quot;, enterenceTime=&quot;</span> + enterenceTime +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getStuGender</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stuGender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStuGender</span><span class="params">(String stuGender)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.stuGender = stuGender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getStuAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stuAge;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setStuAge</span><span class="params">(<span class="type">int</span> stuAge)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.stuAge = stuAge;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Date <span class="title function_">getEnterenceTime</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> enterenceTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEnterenceTime</span><span class="params">(Date enterenceTime)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.enterenceTime = enterenceTime;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®å®ä½“ç±»"><a href="#2-åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®å®ä½“ç±»" class="headerlink" title="2.åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®å®ä½“ç±»"></a>2.åœ¨Springé…ç½®æ–‡ä»¶ä¸­é…ç½®å®ä½“ç±»</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é€šè¿‡beanæ ‡ç­¾å°†å®ä½“ç±»é…ç½®ç»™Springè¿›è¡Œç®¡ç†,idè¡¨ç¤ºå®ä½“ç±»çš„å”¯ä¸€æ ‡è¯†--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuNum&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10002&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ°´ä¸­æœˆ&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuGender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¥³&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuAge&quot;</span> <span class="attr">value</span>=<span class="string">&quot;18&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-åˆå§‹åŒ–Springå¯¹è±¡å·¥å‚ï¼Œè·å–å¯¹è±¡"><a href="#3-åˆå§‹åŒ–Springå¯¹è±¡å·¥å‚ï¼Œè·å–å¯¹è±¡" class="headerlink" title="3.åˆå§‹åŒ–Springå¯¹è±¡å·¥å‚ï¼Œè·å–å¯¹è±¡"></a>3.åˆå§‹åŒ–Springå¯¹è±¡å·¥å‚ï¼Œè·å–å¯¹è±¡</h3><ul>
<li>ClassPathXMLApplicationContext</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é€šè¿‡Springå®¹å™¨åˆ›å»ºå¯¹è±¡</span></span><br><span class="line"><span class="comment">//1.åˆå§‹åŒ–Springå®¹å™¨,åŠ è½½Springé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æŠŠcontextç†è§£ä¸ºSpringå®¹å™¨</span></span><br><span class="line"><span class="type">ClassPathXmlApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line"><span class="comment">//2.é€šè¿‡Springå®¹å™¨è·å–Studentå¯¹è±¡</span></span><br><span class="line"><span class="type">Student</span> <span class="variable">student2</span> <span class="operator">=</span> (Student) context.getBean(<span class="string">&quot;student&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">System.out.println(student2);</span><br></pre></td></tr></table></figure>

<h2 id="2-3-IoCå’ŒDI"><a href="#2-3-IoCå’ŒDI" class="headerlink" title="2.3 IoCå’ŒDI"></a>2.3 IoCå’ŒDI</h2><ul>
<li>IoCï¼ˆInverse of Controlï¼‰æ§åˆ¶åè½¬ï¼Œé€šè¿‡Springå¯¹è±¡å·¥å‚å®Œæˆå¯¹è±¡çš„åˆ›å»º</li>
<li>DIï¼ˆDependency Injectionï¼‰ä¾èµ–æ³¨å…¥ï¼Œåœ¨Springå®Œæˆå¯¹è±¡åˆ›å»ºçš„ç»Ÿä¸€ä¾èµ–Springå®¹å™¨å®Œæˆå¯¹å¯¹è±¡å±æ€§çš„èµ‹å€¼</li>
</ul>
<h3 id="1-IoC"><a href="#1-IoC" class="headerlink" title="1. IoC"></a>1. IoC</h3><blockquote>
<p>å½“æˆ‘ä»¬éœ€è¦é€šè¿‡Springå¯¹è±¡å·¥å‚åˆ›å»ºæŸä¸ªç±»çš„å¯¹è±¡çš„æ—¶å€™ï¼Œéœ€è¦å°†è¿™ä¸ªå¯¹è±¡äº¤ç»™Springç®¡ç†â€“é€šè¿‡beanæ ‡ç­¾é…ç½®</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é€šè¿‡beanå°†å®ä½“ç±»é…ç½®ç»™Springè¿›è¡Œç®¡ç†,idè¡¨ç¤ºå®ä½“ç±»çš„å”¯ä¸€è¡¨ç¤º--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Book&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-DI"><a href="#2-DI" class="headerlink" title="2. DI"></a>2. DI</h3><blockquote>
<p>é€šè¿‡Springå®¹å™¨ç»™å¯¹è±¡çš„å±æ€§è¿›è¡Œèµ‹å€¼</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é€šè¿‡beanæ ‡ç­¾å°†å®ä½“ç±»é…ç½®ç»™Springè¿›è¡Œç®¡ç†,idè¡¨ç¤ºå®ä½“ç±»çš„å”¯ä¸€æ ‡è¯†--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuNum&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10002&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ°´ä¸­æœˆ&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuGender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¥³&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuAge&quot;</span> <span class="attr">value</span>=<span class="string">&quot;18&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enterenceTime&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;date&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;date&quot;</span> <span class="attr">class</span>=<span class="string">&quot;java.util.Date&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-4-DIä¾èµ–æ³¨å…¥"><a href="#2-4-DIä¾èµ–æ³¨å…¥" class="headerlink" title="2.4 DIä¾èµ–æ³¨å…¥"></a>2.4 DIä¾èµ–æ³¨å…¥</h2><h3 id="1-ä¾èµ–æ³¨å…¥çš„ä¸‰ç§æ–¹å¼"><a href="#1-ä¾èµ–æ³¨å…¥çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="1.ä¾èµ–æ³¨å…¥çš„ä¸‰ç§æ–¹å¼"></a>1.ä¾èµ–æ³¨å…¥çš„ä¸‰ç§æ–¹å¼</h3><blockquote>
<p>Springå®¹å™¨åŠ è½½é…ç½®æ–‡ä»¶ä¹‹åé€šè¿‡<code>åå°„</code>åˆ›å»ºç±»çš„å¯¹è±¡ï¼Œå¹¶ç»™å±æ€§èµ‹å€¼ï¼›</p>
<p>Springå®¹å™¨é€šè¿‡åå°„å®ç°å±æ€§æ³¨å…¥æœ‰ä¸‰ç§æ–¹å¼ï¼š</p>
<ul>
<li>setæ–¹æ³•åŠ©æ³¨å…¥</li>
<li>æ„é€ å™¨æ³¨å…¥</li>
<li>æ¥å£æ³¨å…¥(ä¸å¸¸ç”¨)</li>
</ul>
</blockquote>
<h3 id="2-setæ–¹æ³•æ³¨å…¥"><a href="#2-setæ–¹æ³•æ³¨å…¥" class="headerlink" title="2. setæ–¹æ³•æ³¨å…¥"></a>2. setæ–¹æ³•æ³¨å…¥</h3><blockquote>
<p>åœ¨beanæ ‡ç­¾ä¸­é€šè¿‡é…ç½®propertyæ ‡ç­¾ç»™å¯¹è±¡å±æ€§èµ‹å€¼ï¼Œå®é™…ä¸Šå°±æ˜¯é€šè¿‡åå°„è°ƒç”¨setæ–¹æ³•å®Œæˆå±æ€§çš„æ³¨å…¥</p>
</blockquote>
<p><strong>ç®€å•ç±»å‹åŠå­—ç¬¦ä¸²</strong></p>
<ul>
<li>ç›´æ¥é€šè¿‡propertyæ ‡ç­¾çš„valueå±æ€§èµ‹å€¼</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é€šè¿‡beanæ ‡ç­¾å°†å®ä½“ç±»é…ç½®ç»™Springè¿›è¡Œç®¡ç†,idè¡¨ç¤ºå®ä½“ç±»çš„å”¯ä¸€æ ‡è¯†--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å­—ç¬¦ä¸²ç±»å‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuNum&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10007&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ç®€å•ç±»å‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;stuAge&quot;</span> <span class="attr">value</span>=<span class="string">&quot;12&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;wight&quot;</span> <span class="attr">value</span>=<span class="string">&quot;74.56&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ—¥æœŸç±»å‹</strong></p>
<ul>
<li>æ–¹å¼1ï¼šåœ¨<code>property</code>æ ‡ç­¾ä¸­é€šè¿‡<code>ref</code>å¼•ç”¨Springå®¹å™¨ä¸­çš„å¯¹è±¡</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--é€šè¿‡beanæ ‡ç­¾å°†å®ä½“ç±»é…ç½®ç»™Springè¿›è¡Œç®¡ç†,idè¡¨ç¤ºå®ä½“ç±»çš„å”¯ä¸€æ ‡è¯†--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ—¥æœŸç±»å‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enterenceTime&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;date&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;date&quot;</span> <span class="attr">class</span>=<span class="string">&quot;java.util.Date&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;year&quot;</span> <span class="attr">value</span>=<span class="string">&quot;121&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;month&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;date&quot;</span> <span class="attr">value</span>=<span class="string">&quot;11&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ–¹å¼2ï¼šåœ¨<code>property</code>æ ‡ç­¾ä¸­æ·»åŠ å­—æ ‡ç­¾<code>bean</code>æ¥æŒ‡å®šå¯¹è±¡</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ—¥æœŸç±»å‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;enterenceTime&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;java.util.Date&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>è‡ªå®šä¹‰ç±»å¯¹è±¡å±æ€§</strong></p>
<ul>
<li>æ–¹å¼1ï¼šåœ¨<code>property</code>æ ‡ç­¾ä¸­é€šè¿‡<code>ref</code>å¼•ç”¨Springå®¹å™¨ä¸­çš„å¯¹è±¡</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è‡ªå®šä¹‰ç±»å¯¹è±¡ç±»å‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;clazz&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;cla&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;cla&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Clazz&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;classId&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2020&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;className&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è®¡ç®—æœºæŠ€æœ¯ä¸€ç­&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ–¹å¼2ï¼šåœ¨<code>property</code>æ ‡ç­¾ä¸­æ·»åŠ å­—æ ‡ç­¾<code>bean</code>æ¥æŒ‡å®šå¯¹è±¡</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è‡ªå®šä¹‰ç±»å¯¹è±¡ç±»å‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;clazz&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;cla&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Clazz&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;classId&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2020&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;className&quot;</span> <span class="attr">value</span>=<span class="string">&quot;è®¡ç®—æœºæŠ€æœ¯ä¸€ç­&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>é›†åˆç±»å‹</strong></p>
<ul>
<li><p>List</p>
<ul>
<li>List<String> Listä¸­çš„å…ƒç´ æ˜¯å­—ç¬¦ä¸²ç±»å‹æˆ–è€…ç®€å•ç±»å‹çš„å°è£…ç±»æ—¶</li>
<li>é‡‡ç”¨å¦‚ä¸‹ä¸¤ç§å†™æ³•</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å†™æ³•1--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;hobbies&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ—…æ¸¸,ç”µå½±,æ¸¸æ³³&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å†™æ³•2--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ—…æ¸¸<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>æ‰“æ¸¸æˆ<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>Python<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>List<Object>Listä¸­çš„å…ƒç´ æ˜¯å¯¹è±¡ç±»å‹æ—¶</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å†™æ³•1 beanæ ‡ç­¾--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Book&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Book&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Book&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å†™æ³•2 å¼•ç”¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span>  <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Book&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;hobbies&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;book&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;book&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;book&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;book&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ref</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>Set</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sets&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å’ŒListå…ƒç´ æ³¨å…¥æ–¹å¼ç›¸åŒ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Map</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maps&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">key</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>key1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>value1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">key</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>key2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>value2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Propertiesï¼špropertiesç»§æ‰¿è‡ª<code>Hashtableç±»</code>å¯ä»¥ç›´æ¥ç»™é”®å€¼å¯¹ï¼Œå› ä¸ºpropertiesé‡Œé¢çš„é”®<strong>å€¼å¯¹åªèƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;properties&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;k1&quot;</span>&gt;</span>aaa<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;k2&quot;</span>&gt;</span>bbb<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-æ„é€ å™¨æ³¨å…¥"><a href="#3-æ„é€ å™¨æ³¨å…¥" class="headerlink" title="3.æ„é€ å™¨æ³¨å…¥"></a>3.æ„é€ å™¨æ³¨å…¥</h3><p><strong>ç®€å•ç±»å‹ã€å­—ç¬¦ä¸²ã€Objectç±»å‹</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;clazz&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Clazz&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;date&quot;</span> <span class="attr">class</span>=<span class="string">&quot;java.util.Date&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;stuNum&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10008&quot;</span>/&gt;</span>  <span class="comment">&lt;!--å­—ç¬¦ä¸²ç±»å‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;stuGender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å¥³&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;stuName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ç„°çµå§¬&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;stuAge&quot;</span> <span class="attr">value</span>=<span class="string">&quot;21&quot;</span>/&gt;</span>           <span class="comment">&lt;!--ç®€å•ç±»å‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;wight&quot;</span> <span class="attr">value</span>=<span class="string">&quot;46.53&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;enterenceTime&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;date&quot;</span>/&gt;</span>           <span class="comment">&lt;!--å¯¹è±¡ç±»å‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;clazz&quot;</span>&gt;</span>                       <span class="comment">&lt;!--å¯¹è±¡ç±»å‹--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Clazz&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>é›†åˆç±»å‹å±æ€§</strong></p>
<p>ç±»ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; hobbies;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; sets;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,Object&gt; maps;</span><br><span class="line">    <span class="keyword">private</span> Properties properties;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(List&lt;String&gt; hobbies, Set&lt;String&gt; sets, Map&lt;String, Object&gt; maps, Properties properties)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.hobbies = hobbies;</span><br><span class="line">        <span class="built_in">this</span>.sets = sets;</span><br><span class="line">        <span class="built_in">this</span>.maps = maps;</span><br><span class="line">        <span class="built_in">this</span>.properties = properties;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é…ç½®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>11<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>22<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>33<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>aa<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>bb<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>cc<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">key</span>&gt;</span><span class="tag">&lt;<span class="name">value</span>&gt;</span>key1<span class="tag">&lt;/<span class="name">value</span>&gt;</span><span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>value1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">key</span>&gt;</span><span class="tag">&lt;<span class="name">value</span>&gt;</span>key2<span class="tag">&lt;/<span class="name">value</span>&gt;</span><span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>value2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;3&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;k1&quot;</span>&gt;</span>v1<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;k2&quot;</span>&gt;</span>v2<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-5-Beançš„ä½œç”¨åŸŸ"><a href="#2-5-Beançš„ä½œç”¨åŸŸ" class="headerlink" title="2.5 Beançš„ä½œç”¨åŸŸ"></a>2.5 Beançš„ä½œç”¨åŸŸ</h2><blockquote>
<p>åœ¨beanæ ‡ç­¾å¯ä»¥é€šè¿‡scopeå±æ€§æŒ‡å®šå¯¹è±¡çš„çš„ä½œç”¨åŸŸ</p>
<ul>
<li>scope&#x3D;â€singletonâ€  è¡¨ç¤ºå½“å‰beanæ˜¯å•ä¾‹æ¨¡å¼ï¼ˆé»˜è®¤é¥¿æ±‰æ¨¡å¼ï¼ŒSpringå®¹å™¨åˆå§‹åŒ–é˜¶æ®µå°±ä¼šå®Œæˆæ­¤å¯¹è±¡çš„åˆ›å»ºï¼›å½“åœ¨beanæ ‡ç­¾ä¸­è®¾ç½® lazy-init&#x3D;â€trueâ€å˜ä¸ºæ‡’æ±‰æ¨¡å¼ï¼‰</li>
<li>scope&#x3D;â€prototypeâ€ è¡¨ç¤ºå½“å‰beanä¸ºéå•ä¾‹æ¨¡å¼ï¼Œæ¯æ¬¡é€šè¿‡Springå®¹å™¨è·å–æ­¤beançš„å¯¹è±¡æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</li>
</ul>
</blockquote>
<ul>
<li>å•ä¾‹</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Book&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;singleton&quot;</span> <span class="attr">lazy-init</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å¤šä¾‹</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Book&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-6-Beançš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"><a href="#2-6-Beançš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•" class="headerlink" title="2.6 Beançš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"></a>2.6 Beançš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</h2><ul>
<li>Beanç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> bookId;</span><br><span class="line">    <span class="keyword">private</span> String bookName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–æ–¹æ³•ï¼šåœ¨åˆ›å»ºå½“å‰ç±»å¯¹è±¡æ—¶è°ƒç”¨çš„æ–¹æ³•ï¼Œè¿›è¡Œä¸€äº›èµ„æºå‡†å¤‡å·¥ä½œ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Init.....&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">this</span>.bookId = <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">this</span>.bookName = <span class="string">&quot;åˆå§‹å€¼ï¼šä¸‰å›½æ¼”ä¹‰&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destory</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//é”€æ¯æ–¹æ³•ï¼šåœ¨Springå®¹å™¨é”€æ¯å¯¹è±¡æ—¶è°ƒç”¨æ­¤æ–¹æ³•ï¼Œè¿›è¡Œä¸€äº›èµ„æºå›æ”¶æ€§çš„å·¥ä½œ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æ˜¯æ„é€ å™¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Springé…ç½®æ–‡ä»¶</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--åœ¨beanæ ‡ç­¾ä¸­é€šè¿‡init-methodå±æ€§æŒ‡å®šå½“å‰beançš„åˆå§‹åŒ–æ–¹æ³•ï¼Œåˆå§‹åŒ–æ–¹æ³•åœ¨æ„é€ å™¨æ‰§è¡Œä¹‹åæ‰§è¡Œ--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--åœ¨beanæ ‡ç­¾ä¸­é€šè¿‡destory-methodå±æ€§æŒ‡å®šå½“å‰beançš„é”€æ¯æ–¹æ³•ï¼Œé”€æ¯æ–¹æ³•åœ¨å¯¹è±¡é”€æ¯ä¹‹å‰æ‰§è¡Œ--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Book&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">init-method</span>=<span class="string">&quot;init&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;destory&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-7-è‡ªåŠ¨è£…é…"><a href="#2-7-è‡ªåŠ¨è£…é…" class="headerlink" title="2.7 è‡ªåŠ¨è£…é…"></a>2.7 è‡ªåŠ¨è£…é…</h2><blockquote>
<p>è‡ªåŠ¨è£…é…ï¼šSpringåœ¨å®ä¾‹åŒ–å½“å‰beançš„æ—¶å€™ä»Springå®¹å™¨ä¸­æ‰¾åˆ°åŒ¹é…çš„å®ä¾‹èµ‹å€¼ç»™å½“å‰beançš„å±æ€§</p>
<p>è‡ªåŠ¨è£…é…ç­–ç•¥æœ‰ä¸¤ç§ï¼š</p>
<ul>
<li>byName  æ ¹æ®å½“å‰Beançš„å±æ€§ååœ¨Springå®¹å™¨ä¸­å¯»æ‰¾åŒ¹é…çš„å¯¹è±¡ ï¼Œå¦‚æœæ ¹æ®nameæ‰¾æ‰“äº†beanä½†æ˜¯ç±»å‹ä¸åŒ¹é…åˆ™æŠ›å‡ºå¼‚å¸¸</li>
<li>byType  æ ¹æ®å½“å‰Beançš„å±æ€§ç±»å‹åœ¨Springå®¹å™¨ä¸­å¯»æ‰¾åŒ¹é…çš„å¯¹è±¡ï¼Œå¦‚æœæ ¹æ®ç±»å‹æ‰¾åˆ°äº†å¤šä¸ªbeanä¹Ÿä¼šæŠ›å‡ºå¼‚å¸¸</li>
</ul>
</blockquote>
<ul>
<li>byName</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--byName   æ ¹æ®å½“å‰beançš„å±æ€§ååœ¨Springå®¹å™¨ä¸­å¯»æ‰¾åŒ¹é…çš„å¯¹è±¡ï¼Œå¦‚æœæ ¹æ®nameæ‰¾åˆ°äº†beanä½†æ˜¯ç±»å‹ä¸åŒ¹é…åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;clazz&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Clazz&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>byType</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--byName   æ ¹æ®å½“å‰beançš„å±æ€§ååœ¨Springå®¹å™¨ä¸­å¯»æ‰¾åŒ¹é…çš„å¯¹è±¡ï¼Œå¦‚æœæ ¹æ®nameæ‰¾åˆ°äº†beanä½†æ˜¯ç±»å‹ä¸åŒ¹é…åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;clazz2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Clazz&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stu1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.ioc.bean.Student&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-8-SpringIoCå·¥ä½œåŸç†"><a href="#2-8-SpringIoCå·¥ä½œåŸç†" class="headerlink" title="2.8 SpringIoCå·¥ä½œåŸç†"></a>2.8 SpringIoCå·¥ä½œåŸç†</h2><p><img src="/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220415090803104.png" alt="image-20220415090803104" loading="lazy"></p>
<h1 id="ä¸‰ã€Spring-IoC-åŸºäºæ³¨è§£"><a href="#ä¸‰ã€Spring-IoC-åŸºäºæ³¨è§£" class="headerlink" title="ä¸‰ã€Spring IoC-åŸºäºæ³¨è§£"></a>ä¸‰ã€Spring IoC-åŸºäºæ³¨è§£</h1><blockquote>
<p>SpringIoCçš„ä½¿ç”¨ï¼Œéœ€è¦é€šè¿‡xmlå°†ç±»å£°æ˜ç»™Springå®¹å™¨è¿›è¡Œç®¡ç†ï¼Œè¿›è€Œé€šè¿‡Springå·¥å‚å®Œæˆå¯¹è±¡çš„åˆ›å»ºä»¥åŠå±æ€§å€¼çš„æ³¨å…¥ï¼›</p>
<p>Springé™¤äº†æä¾›åŸºäºxmlçš„é…ç½®æ–¹å¼ï¼ŒåŒæ—¶è¿˜æä¾›äº†æ³¨è§£çš„é…ç½®ï¼šç›´æ¥åœ¨å®ä½“ç±»ä¸­æ·»åŠ æ³¨è§£å£°æ˜ç»™Springå®¹å™¨ç®¡ç†ï¼Œä»¥ç®€åŒ–å¼€å‘æ­¥éª¤ã€‚</p>
</blockquote>
<h2 id="3-1-Spring-æ¡†æ¶éƒ¨ç½²"><a href="#3-1-Spring-æ¡†æ¶éƒ¨ç½²" class="headerlink" title="3.1 Spring æ¡†æ¶éƒ¨ç½²"></a>3.1 Spring æ¡†æ¶éƒ¨ç½²</h2><h3 id="1-åˆ›å»ºMavené¡¹ç›®"><a href="#1-åˆ›å»ºMavené¡¹ç›®" class="headerlink" title="1.åˆ›å»ºMavené¡¹ç›®"></a>1.åˆ›å»ºMavené¡¹ç›®</h3><p>ç•¥</p>
<h3 id="2-æ·»åŠ SpringIoCä¾èµ–-1"><a href="#2-æ·»åŠ SpringIoCä¾èµ–-1" class="headerlink" title="2.æ·»åŠ SpringIoCä¾èµ–"></a>2.æ·»åŠ SpringIoCä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.13.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-åˆ›å»ºSpringé…ç½®æ–‡ä»¶-1"><a href="#3-åˆ›å»ºSpringé…ç½®æ–‡ä»¶-1" class="headerlink" title="3.åˆ›å»ºSpringé…ç½®æ–‡ä»¶"></a>3.åˆ›å»ºSpringé…ç½®æ–‡ä»¶</h3><ul>
<li>Springå®¹å™¨åˆå§‹åŒ–æ—¶ï¼Œåªä¼šåŠ è½½applicationContext.xmlæ–‡ä»¶ï¼Œåœ¨å®ä½“ç±»ä¸­æ·»åŠ çš„æ³¨è§£ä¸ä¼šè¢«Springæ‰«æï¼Œæ‰€ä»¥éœ€è¦åœ¨<code>applicationContext.xmlå£°æ˜Springçš„æ‰«æèŒƒå›´</code>ï¼Œä»¥è¾¾åˆ°Springåˆå§‹åŒ–æ‰«æå¸¦æœ‰æ³¨è§£çš„å®ä½“ç±»å¹¶å®Œæˆåˆå§‹åŒ–å·¥ä½œã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  å¯¹äºä¸€ä¸ªxmlæ–‡ä»¶å¦‚æœä½œä¸ºæ¡†æ¶çš„é…ç½®æ–‡ä»¶ï¼Œéœ€è¦éµå®ˆæ¡†æ¶çš„é…ç½®è§„åˆ™  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  é€šå¸¸ä¸€ä¸ªæ¡†æ¶ä¸ºäº†è®©å¼€å‘è€…èƒ½å¤Ÿæ­£ç¡®çš„é…ç½®ï¼Œéƒ½ä¼šæä¾›xmlçš„è§„èŒƒæ–‡ä»¶ï¼ˆdtd\xsdï¼‰  --&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--å£°æ˜ä½¿ç”¨æ³¨è§£é…ç½®--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--å£°æ˜Springå·¥å‚æ³¨è§£çš„æ‰«æèŒƒå›´--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.qfedu.beans&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="3-2-SpringIoCå¸¸ç”¨æ³¨è§£"><a href="#3-2-SpringIoCå¸¸ç”¨æ³¨è§£" class="headerlink" title="3.2 SpringIoCå¸¸ç”¨æ³¨è§£"></a>3.2 SpringIoCå¸¸ç”¨æ³¨è§£</h2><h3 id="1-Component"><a href="#1-Component" class="headerlink" title="1. @Component"></a>1. <code>@Component</code></h3><ul>
<li>ç±»æ³¨è§£ï¼Œå£°æ˜æ­¤å®ä½“ç±»è¢«Springå®¹å™¨è¿›è¡Œç®¡ç†ï¼Œç›¸å½“äºbeanæ ‡ç­¾çš„ä½œç”¨</li>
<li><code>@Component(value = &quot;stu&quot;)</code>:valueå±æ€§ç”¨äºæŒ‡å®šå½“å‰beançš„idï¼Œç›¸å½“äºbeanæ ‡ç­¾çš„idå±æ€§ï¼›valueå±æ€§å¯ä»¥å¿½ç•¥ä¸å†™ï¼Œå¦‚æœçœç•¥åˆ™å½“å‰beançš„idé»˜è®¤ä¸ºç±»åçš„é¦–å­—æ¯å°å†™</li>
<li>é™¤äº†<code>@Component</code>ä¹‹å¤–ï¼Œ<code>@Service</code>ã€<code>@Controller</code>ã€<code>@Repository</code>è¿™ä¸‰ä¸ªæ³¨è§£ä¹Ÿå¯ä»¥å°†ç±»å£°æ˜ç»™Springç®¡ç†ï¼Œä½†æ˜¯æœ‰è¯­ä¹‰ä¸Šçš„åŒºåˆ«:<ul>
<li><code>@Controller</code> æ³¨è§£ä¸»è¦å£°æ˜å°†æ§åˆ¶å™¨ç±»é…ç½®ç»™Springç®¡ç†ï¼Œä¾‹å¦‚Servlet</li>
<li><code>@Service</code> æ³¨è§£ä¸»è¦å£°æ˜ä¸šåŠ¡å¤„ç†ç±»é…ç½®Springç®¡ç†ï¼ŒServiceæ¥å£çš„å®ç°ç±»</li>
<li><code>@Repository</code> ç›´æ¥ä¸»è¦å£°æ˜æŒä¹…åŒ–ç±»é…ç½®ç»™Springç®¡ç†ï¼ŒDAOæ¥å£</li>
<li><code>@Component</code> é™¤äº†æ§åˆ¶å™¨ã€servcieå’ŒDAOä¹‹å¤–çš„ç±»ä¸€å¾‹ä½¿ç”¨æ­¤æ³¨è§£å£°æ˜</li>
</ul>
</li>
</ul>
<h3 id="2-Scope"><a href="#2-Scope" class="headerlink" title="2. @Scope"></a>2. <code>@Scope</code></h3><ul>
<li>ç±»æ³¨è§£ï¼Œç”¨äºå£°æ˜å½“å‰ç±»å•ä¾‹æ¨¡å¼è¿˜æ˜¯ éå•ä¾‹æ¨¡å¼ï¼Œç›¸å½“äºbeanæ ‡ç­¾çš„scopeå±æ€§</li>
<li>@Scope(â€œprototypeâ€) è¡¨ç¤ºå£°æ˜å½“å‰ç±»ä¸ºéå•ä¾‹æ¨¡å¼ï¼ˆé»˜è®¤å•ä¾‹æ¨¡å¼ï¼‰</li>
</ul>
<h3 id="3-Lazy"><a href="#3-Lazy" class="headerlink" title="3. @Lazy"></a>3. <code>@Lazy</code></h3><ul>
<li>ç±»æ³¨è§£ï¼Œç”¨äºå£°æ˜ä¸€ä¸ªå•ä¾‹æ¨¡å¼çš„Beanæ˜¯å¦ä¸ºæ‡’æ±‰æ¨¡å¼</li>
<li>@Lazy(true) è¡¨ç¤ºå£°æ˜ä¸ºæ‡’æ±‰æ¨¡å¼ï¼Œé»˜è®¤ä¸ºé¥¿æ±‰æ¨¡å¼</li>
</ul>
<h3 id="4-PostConstruct"><a href="#4-PostConstruct" class="headerlink" title="4. @PostConstruct"></a>4. <code>@PostConstruct</code></h3><ul>
<li>æ–¹æ³•æ³¨è§£ï¼Œå£°æ˜ä¸€ä¸ªæ–¹æ³•ä¸ºå½“å‰ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼ˆåœ¨æ„é€ å™¨ä¹‹åæ‰§è¡Œï¼‰ï¼Œç›¸å½“äºbeanæ ‡ç­¾çš„init-methodå±æ€§</li>
</ul>
<h3 id="5-PreDestroy"><a href="#5-PreDestroy" class="headerlink" title="5. @PreDestroy"></a>5. <code>@PreDestroy</code></h3><ul>
<li>æ–¹æ³•æ³¨è§£ï¼Œå£°æ˜ä¸€ä¸ªæ–¹æ³•ä¸ºå½“å‰ç±»çš„é”€æ¯æ–¹æ³•ï¼ˆåœ¨å¯¹è±¡ä»å®¹å™¨ä¸­é‡Šæ”¾ä¹‹å‰æ‰§è¡Œï¼‰ï¼Œç›¸å½“äºbeanæ ‡ç­¾çš„destory-methodå±æ€§</li>
</ul>
<h3 id="6-Autowired"><a href="#6-Autowired" class="headerlink" title="6. @Autowired"></a>6. <code>@Autowired</code></h3><ul>
<li><p>å±æ€§æ³¨è§£ã€æ–¹æ³•æ³¨è§£(setæ–¹æ³•)ï¼Œå£°æ˜å½“å‰å±æ€§ä¸ºè‡ªåŠ¨è£…é…ï¼Œé»˜è®¤æ˜¯byType</p>
</li>
<li><p><code>@Autowired(required = false)</code>é€šè¿‡<code>required</code>å±æ€§æ¥è®¾ç½®å½“å‰è‡ªåŠ¨è£…é…æ˜¯å¦æ˜¯å¿…é¡»çš„ï¼ˆé»˜è®¤ä¸ºå¿…é¡»â€“å¦‚æœåœ¨Springå®¹å™¨ä¸­æ²¡æœ‰æ‰¾åˆ°ä¸å±æ€§ç±»å‹ç›¸åŒ¹é…çš„beanä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œè‡ªåŠ¨è£…é…çš„ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>byType</li>
<li>refå¼•ç”¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setClazz</span><span class="params">(<span class="meta">@Qualifier(&quot;c1&quot;)</span> Clazz clazz)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.clazz = clazz;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="7-Resource"><a href="#7-Resource" class="headerlink" title="7.@Resource"></a>7.<code>@Resource</code></h3><ul>
<li>å±æ€§æ³¨è§£ï¼Œä¹Ÿç”¨äºå£°æ˜å±æ€§è‡ªåŠ¨è£…é…</li>
<li>é»˜è®¤è£…é…æ–¹å¼ä¸ºbyNameï¼Œå¦‚æœæ ¹æ®byNameæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„beanï¼Œåˆ™ç»§ç»­æ ¹æ®byTypeç»§ç»­å¯»æ‰¾å¯¹åº”çš„beanï¼Œæ ¹æ®byTypeä¹Ÿæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„beanæˆ–è€…æ‰¾åˆ°äº†ä¸æ­¢ä¸€ä¸ªç±»å‹åŒ¹é…çš„beanï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</li>
</ul>
<h1 id="å››ã€ä»£ç†è®¾è®¡æ¨¡å¼"><a href="#å››ã€ä»£ç†è®¾è®¡æ¨¡å¼" class="headerlink" title="å››ã€ä»£ç†è®¾è®¡æ¨¡å¼"></a>å››ã€ä»£ç†è®¾è®¡æ¨¡å¼</h1><h2 id="4-1-ç”Ÿæ´»ä¸­çš„ä»£ç†"><a href="#4-1-ç”Ÿæ´»ä¸­çš„ä»£ç†" class="headerlink" title="4.1 ç”Ÿæ´»ä¸­çš„ä»£ç†"></a>4.1 ç”Ÿæ´»ä¸­çš„ä»£ç†</h2><p><img src="/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1616999162162.png" alt="1616999162162" loading="lazy"></p>
<p>ä»£ç†è®¾è®¡æ¨¡å¼çš„ä¼˜ç‚¹ï¼šå°†é€šç”¨æ€§çš„å·¥ä½œéƒ½äº¤ç»™ä»£ç†å¯¹è±¡å®Œæˆï¼Œè¢«ä»£ç†å¯¹è±¡åªéœ€ä¸“æ³¨è‡ªå·±çš„æ ¸å¿ƒä¸šåŠ¡ã€‚</p>
<h2 id="4-2-é™æ€ä»£ç†"><a href="#4-2-é™æ€ä»£ç†" class="headerlink" title="4.2 é™æ€ä»£ç†"></a>4.2 é™æ€ä»£ç†</h2><blockquote>
<p>é™æ€ä»£ç†ï¼Œä»£ç†ç±»åªèƒ½å¤Ÿä¸ºç‰¹å®šçš„ç±»ç”Ÿäº§ä»£ç†å¯¹è±¡ï¼Œä¸èƒ½ä»£ç†ä»»æ„ç±»</p>
</blockquote>
<p><img src="/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1617001027208.png" alt="1617001027208" loading="lazy"></p>
<p><strong>ä½¿ç”¨ä»£ç†çš„å¥½å¤„ï¼š</strong></p>
<ol>
<li>è¢«ä»£ç†ç±»ä¸­åªéœ€è¦å…³æ³¨æ ¸å¿ƒä¸šåŠ¡çš„å®ç°ï¼Œå°†é€šç”¨çš„ç®¡ç†å‹é€»è¾‘ï¼ˆäº‹åŠ¡å¤„ç†ã€æ—¥å¿—ç®¡ç†ç­‰æ“ä½œï¼‰å’Œä¸šåŠ¡é€»è¾‘åˆ†ç¦»</li>
<li>å°†é€šç”¨çš„ä»£ç æ”¾åœ¨ä»£ç†ç±»ä¸­å®ç°ï¼Œæä¾›äº†ä»£ç çš„å¤ç”¨æ€§</li>
<li>é€šè¿‡åœ¨ä»£ç†ç±»ä¸­æ·»åŠ ä»£ç ä¸šåŠ¡é€»è¾‘ï¼Œå®ç°å¯¹åŸæœ‰ä¸šåŠ¡é€»è¾‘çš„æ‰©å±•å¢å¼º</li>
</ol>
<h2 id="4-3-åŠ¨æ€ä»£ç†"><a href="#4-3-åŠ¨æ€ä»£ç†" class="headerlink" title="4.3 åŠ¨æ€ä»£ç†"></a>4.3 åŠ¨æ€ä»£ç†</h2><blockquote>
<p>åŠ¨æ€ä»£ç†ï¼Œå‡ ä¹å¯ä»¥ä¸ºæ‰€æœ‰çš„ç±»äº§ç”Ÿä»£ç†å¯¹è±¡</p>
<p>å®ç°æ–¹å¼æœ‰ä¸¤ç§ï¼š</p>
<ul>
<li>JDKåŠ¨æ€ä»£ç†</li>
<li>CGLibåŠ¨æ€ä»£ç†</li>
</ul>
</blockquote>
<h3 id="1-JDKåŠ¨æ€ä»£ç†"><a href="#1-JDKåŠ¨æ€ä»£ç†" class="headerlink" title="1. JDKåŠ¨æ€ä»£ç†"></a>1. JDKåŠ¨æ€ä»£ç†</h3><ul>
<li>JDKåŠ¨æ€ä»£ç†ç±»å®ç°:</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@auther</span> xiaochen</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2022-04-18 8:53</span></span><br><span class="line"><span class="comment"> * JDkåŠ¨æ€ä»£ç†:ä½¿ç”¨è¿‡è¢«ä»£ç†å¯¹è±¡å®ç°çš„æ¥å£äº§ç”Ÿå…¶ä»£ç†å¯¹è±¡çš„</span></span><br><span class="line"><span class="comment"> * åªèƒ½ä¸ºå®ç°äº†æ¥å£çš„ç±»äº§ç”Ÿä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *      1.åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ç°InvocationHandleræ¥å£ï¼Œé‡å†™invokeæ–¹æ³•</span></span><br><span class="line"><span class="comment"> *      2.åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªObjectç±»å‹çš„å˜é‡ï¼Œå¹¶æä¾›è¿™ä¸ªå˜é‡çš„æœ‰å‚æ„é€ å™¨ï¼Œç”¨äºå°†è¢«ä»£ç†å¯¹è±¡ä¼ é€’è¿›æ¥</span></span><br><span class="line"><span class="comment"> *      3.å®šä¹‰getProxyæ–¹æ³•ï¼Œç”¨äºåˆ›å»ºå¹¶è¿”å›ä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDKDynamicProxy</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¢«ä»£ç†å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é€šè¿‡æ„é€ å™¨ä¼ å…¥è¢«ä»£ç†å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">JDKDynamicProxy</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//äº§ç”Ÿå¹¶è¿”å›ä»£ç†å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getProxy</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//1.è·å–è¢«ä»£ç†å¯¹è±¡çš„ç±»åŠ è½½å™¨</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> obj.getClass().getClassLoader();</span><br><span class="line">        <span class="comment">//2.è·å–è¢«ä»£ç†å¯¹è±¡çš„ç±»å®ç°çš„æ¥å£</span></span><br><span class="line">        Class&lt;?&gt;[] interfaces = obj.getClass().getInterfaces();</span><br><span class="line">        <span class="comment">//3.äº§ç”Ÿä»£ç†å¯¹è±¡(é€šè¿‡è¢«ä»£ç†å¯¹è±¡çš„ç±»åŠ è½½å™¨åŠå®ç°çš„æ¥å£)</span></span><br><span class="line">        <span class="comment">//ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¢«ä»£ç†å¯¹è±¡çš„ç±»åŠ è½½å™¨</span></span><br><span class="line">        <span class="comment">//ç¬¬äºŒä¸ªå‚æ•°ï¼šè¢«ä»£ç†å¯¹è±¡å®ç°çš„æ¥å£</span></span><br><span class="line">        <span class="comment">//ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šä½¿ç”¨äº§ç”Ÿçš„ä»£ç†å¯¹è±¡ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ï¼Œç”¨äºæ‹¦æˆªæ–¹æ³•æ‰§è¡Œçš„æ‹¦æˆªå™¨</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Object</span> <span class="variable">proxy</span> <span class="operator">=</span> Proxy.newProxyInstance(classLoader, interfaces, <span class="built_in">this</span>);</span><br><span class="line">        <span class="keyword">return</span> proxy;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line"></span><br><span class="line">        begin();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">returnVal</span> <span class="operator">=</span> method.invoke(obj,args);<span class="comment">//æ‰§è¡Œmethodæ–¹æ³•(insert)</span></span><br><span class="line">        commit();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> returnVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">begin</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;======å¼€å¯äº‹åŠ¡=====&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">commit</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;======æäº¤äº‹åŠ¡=====&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æµ‹è¯•:</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDynamicProxy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.åˆ›å»ºè¢«ä»£ç†å¯¹è±¡</span></span><br><span class="line">        <span class="type">BookDAOImpl</span> <span class="variable">bookDAO</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BookDAOImpl</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.åˆ›å»ºåŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œå¹¶å°†è¢«ä»£ç†å¯¹è±¡ä¼ é€’åˆ°ä»£ç†ç±»ä¸­,èµ‹å€¼ç»™obj</span></span><br><span class="line">        <span class="type">JDKDynamicProxy</span> <span class="variable">jdkDynamicProxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JDKDynamicProxy</span>(bookDAO);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//proxyå°±æ˜¯äº§ç”Ÿçš„ä»£ç†å¯¹è±¡,äº§ç”Ÿçš„ä»£ç†å¯¹è±¡å¯ä»¥å¼ºåˆ¶è½¬æ¢æˆè¢«ä»£ç†å¯¹è±¡å®ç°çš„æ¥å£ç±»å‹</span></span><br><span class="line">        <span class="type">GenaralDao</span> <span class="variable">proxy</span> <span class="operator">=</span> (GenaralDao) jdkDynamicProxy.getProxy();</span><br><span class="line">        <span class="comment">//ä½¿ç”¨ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•ï¼Œå¹¶ä¸ä¼šæ‰§è¡Œè°ƒç”¨çš„æ–¹æ³•ï¼Œè€Œæ˜¯è¿›å…¥åˆ°åˆ›å»ºä»£ç†å¯¹è±¡æ—¶æŒ‡å®šInvocationHandlerç±»ä¸­çš„invokeæ–¹æ³•</span></span><br><span class="line">        <span class="comment">//è°ƒç”¨çš„æ–¹æ³•ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œä¼ é€’ç»™äº†invokeæ–¹æ³•</span></span><br><span class="line">        proxy.delete();</span><br><span class="line"><span class="comment">//        bookDAO.delete();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-CGLibåŠ¨æ€ä»£ç†"><a href="#2-CGLibåŠ¨æ€ä»£ç†" class="headerlink" title="2. CGLibåŠ¨æ€ä»£ç†"></a>2. CGLibåŠ¨æ€ä»£ç†</h3><blockquote>
<p>ç”±äºJDKåŠ¨æ€ä»£ç†æ˜¯é€šè¿‡è¢«ä»£ç†ç±»å®ç°çš„æ¥å£æ¥åˆ›å»ºä»£ç†å¯¹è±¡çš„ï¼Œå› æ­¤JDKåŠ¨æ€ä»£ç†åªèƒ½ä»£ç†å®ç°äº†æ¥å£çš„ç±»çš„å¯¹è±¡ã€‚å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰å®ç°ä»»ä½•æ¥å£ï¼Œè¯¥å¦‚ä½•äº§ç”Ÿä»£ç†å¯¹è±¡å‘¢ï¼Ÿ</p>
<p>CGLibåŠ¨æ€ä»£ç†ï¼Œæ˜¯é€šè¿‡åˆ›å»ºè¢«ä»£ç†ç±»çš„å­ç±»æ¥åˆ›å»ºä»£ç†å¯¹è±¡çš„ï¼Œå› æ­¤å³ä½¿æ²¡æœ‰å®ç°ä»»ä½•æ¥å£çš„ç±»ä¹Ÿå¯ä»¥é€šè¿‡CGLibäº§ç”Ÿä»£ç†å¯¹è±¡</p>
<p><code>æ³¨ï¼š</code>CGLibåŠ¨æ€ä»£ç†ä¸èƒ½ä¸ºfinalç±»åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œå› ä¸ºè¢«finalå…³é”®å­—ä¿®é¥°çš„ç±»ä¸èƒ½è¢«ç»§æ‰¿</p>
</blockquote>
<ul>
<li>æ·»åŠ CGlibçš„ä¾èµ–</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/cglib/cglib --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>CGLibåŠ¨æ€ä»£ç†ç±»å®ç°ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@auther</span> xiaochen</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2022-04-18 9:51</span></span><br><span class="line"><span class="comment"> * 1.æ·»åŠ CGLibä¾èµ–</span></span><br><span class="line"><span class="comment"> * 2.åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ç°MethodInterceptorï¼ŒåŒæ—¶å®ç°æ¥å£ä¸­çš„interceptæ–¹æ³•</span></span><br><span class="line"><span class="comment"> * 3.åœ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªObjectç±»å‹çš„å˜é‡ï¼Œå¹¶æä¾›è¿™ä¸ªå˜é‡çš„youå‚æ„é€ å™¨ï¼Œç”¨äºä¼ é€’è¢«ä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment"> * 4.å®šä¹‰getProxyæ–¹æ³•åˆ›å»ºå¹¶è¿”å›ä»£ç†å¯¹è±¡ï¼ˆä»£ç†å¯¹è±¡æ˜¯é€šè¿‡åˆ›å»ºè¢«ä»£ç†ç±»çš„å­ç±»æ¥åˆ›å»ºçš„ï¼‰</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CGLibDynamicProxy</span> <span class="keyword">implements</span> <span class="title class_">MethodInterceptor</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CGLibDynamicProxy</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getProxy</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Enhancer</span> <span class="variable">enhancer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Enhancer</span>();</span><br><span class="line">        enhancer.setSuperclass(obj.getClass());</span><br><span class="line">        enhancer.setCallback(<span class="built_in">this</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">proxy</span> <span class="operator">=</span> enhancer.create();</span><br><span class="line">        <span class="keyword">return</span> proxy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">intercept</span><span class="params">(Object o, Method method, Object[] objects, MethodProxy methodProxy)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        begin();</span><br><span class="line">        <span class="comment">//é€šè¿‡åå°„è°ƒç”¨è¢«ä»£ç†ç±»ä¸­çš„æ–¹æ³•</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">returnVal</span> <span class="operator">=</span> method.invoke(obj,objects);</span><br><span class="line">        commit();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> returnVal;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">begin</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;======å¼€å¯äº‹åŠ¡=====&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">commit</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;======æäº¤äº‹åŠ¡=====&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æµ‹è¯•ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDynamicProxy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.åˆ›å»ºè¢«ä»£ç†å¯¹è±¡</span></span><br><span class="line">        <span class="type">BookDAOImpl</span> <span class="variable">bookDAO</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BookDAOImpl</span>();</span><br><span class="line">		<span class="comment">//2.é€šè¿‡CGLibåŠ¨æ€ä»£ç†ç±»åˆ›å»ºä»£ç†å¯¹è±¡</span></span><br><span class="line">        <span class="type">CGLibDynamicProxy</span> <span class="variable">cgLibDynamicProxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CGLibDynamicProxy</span>(bookDAO);</span><br><span class="line">        <span class="comment">//3.ä»£ç†å¯¹è±¡å®é™…ä¸Šæ˜¯è¢«ä»£ç†å¯¹è±¡çš„å­ç±»ï¼Œå› æ­¤ä»£ç†å¯¹è±¡å¯ä»¥å¼ºè½¬ä¸ºè¢«ä»£ç†ç±»ç±»å‹</span></span><br><span class="line">        <span class="type">BookDAOImpl</span> <span class="variable">proxy</span> <span class="operator">=</span> (BookDAOImpl) cgLibDynamicProxy.getProxy();</span><br><span class="line">        <span class="comment">//4.ä½¿ç”¨ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•ï¼Œå®é™…ä¸Šå¹¶æ²¡æœ‰æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ï¼Œè€Œæ˜¯æ‰§è¡Œäº†ä»£ç†ç±»ä¸­çš„interceptæ–¹æ³•ï¼Œå°†å½“å‰è°ƒç”¨çš„æ–¹æ³•ä»¥åŠæ–¹æ³•ä¸­çš„</span></span><br><span class="line">        <span class="comment">//å‚æ•°ä¼ é€’åˆ°interceptæ–¹æ³•ä¸­</span></span><br><span class="line">        proxy.update();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="äº”ã€-Spring-AOP"><a href="#äº”ã€-Spring-AOP" class="headerlink" title="äº”ã€ Spring AOP"></a>äº”ã€ Spring AOP</h1><h2 id="5-1-AOPæ¦‚å¿µ"><a href="#5-1-AOPæ¦‚å¿µ" class="headerlink" title="5.1 AOPæ¦‚å¿µ"></a>5.1 AOPæ¦‚å¿µ</h2><blockquote>
<p>Aspect Oriented Programming ï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯ä¸€ç§åˆ©ç”¨â€æ¨ªåˆ‡â€çš„æŠ€æœ¯ï¼ˆåº•å±‚å®ç°å°±æ˜¯åŠ¨æ€ä»£ç†ï¼‰ï¼Œå¯¹åŸæœ‰çš„ä¸šåŠ¡é€»è¾‘è¿›è¡Œæ‹¦æˆªï¼Œå¹¶ä¸”å¯ä»¥åœ¨è¿™ä¸ªæ‹¦æˆªçš„æ¨ªåˆ‡é¢ä¸Šæ·»åŠ ç‰¹å®šçš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯¹åŸæœ‰çš„ä¸šåŠ¡è¿›è¡Œå¢å¼ºã€‚</p>
<p>åŸºäºåŠ¨æ€ä»£ç†çš„å®ç°å¯ä»¥åœ¨ä¸æ”¹å˜åŸæœ‰ä¸šåŠ¡çš„æƒ…å†µä¸‹å¯¹ä¸šåŠ¡è¿›è¡Œå¢å¼ºã€‚</p>
</blockquote>
<p><img src="/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220415184022329.png" alt="image-20220415184022329" loading="lazy"></p>
<h2 id="5-2-Spring-AOPæ¡†æ¶éƒ¨ç½²"><a href="#5-2-Spring-AOPæ¡†æ¶éƒ¨ç½²" class="headerlink" title="5.2 Spring AOPæ¡†æ¶éƒ¨ç½²"></a>5.2 Spring AOPæ¡†æ¶éƒ¨ç½²</h2><h3 id="1-åˆ›å»ºMavené¡¹ç›®-1"><a href="#1-åˆ›å»ºMavené¡¹ç›®-1" class="headerlink" title="1. åˆ›å»ºMavené¡¹ç›®"></a>1. åˆ›å»ºMavené¡¹ç›®</h3><p>ç•¥</p>
<h3 id="2-æ·»åŠ ä¾èµ–"><a href="#2-æ·»åŠ ä¾èµ–" class="headerlink" title="2. æ·»åŠ ä¾èµ–"></a>2. æ·»åŠ ä¾èµ–</h3><ul>
<li>context</li>
<li>aspect</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.13.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.13.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-åˆ›å»ºSpringé…ç½®æ–‡ä»¶-2"><a href="#3-åˆ›å»ºSpringé…ç½®æ–‡ä»¶-2" class="headerlink" title="3.åˆ›å»ºSpringé…ç½®æ–‡ä»¶"></a>3.åˆ›å»ºSpringé…ç½®æ–‡ä»¶</h3><ul>
<li>å¼•å…¥aopçš„å‘½åç©ºé—´</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="5-3-AOPé…ç½®-è¯­å¥XML"><a href="#5-3-AOPé…ç½®-è¯­å¥XML" class="headerlink" title="5.3 AOPé…ç½®- è¯­å¥XML"></a>5.3 AOPé…ç½®- è¯­å¥XML</h2><blockquote>
<p>ç»™DAOçš„æ–¹æ³•æ·»åŠ å¼€å¯äº‹åŠ¡å’Œæäº¤äº‹åŠ¡çš„é€»è¾‘</p>
</blockquote>
<h3 id="1-åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®šä¹‰è¦æ·»åŠ çš„ä¸šåŠ¡é€»è¾‘"><a href="#1-åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®šä¹‰è¦æ·»åŠ çš„ä¸šåŠ¡é€»è¾‘" class="headerlink" title="1.åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®šä¹‰è¦æ·»åŠ çš„ä¸šåŠ¡é€»è¾‘"></a>1.åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®šä¹‰è¦æ·»åŠ çš„ä¸šåŠ¡é€»è¾‘</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TxManager</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">begin</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å¯äº‹åŠ¡&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">commit</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æäº¤äº‹åŠ¡&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-é…ç½®AOP"><a href="#2-é…ç½®AOP" class="headerlink" title="2. é…ç½®AOP"></a>2. é…ç½®AOP</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  å¯¹äºä¸€ä¸ªxmlæ–‡ä»¶å¦‚æœä½œä¸ºæ¡†æ¶çš„é…ç½®æ–‡ä»¶ï¼Œéœ€è¦éµå®ˆæ¡†æ¶çš„é…ç½®è§„åˆ™  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  é€šå¸¸ä¸€ä¸ªæ¡†æ¶ä¸ºäº†è®©å¼€å‘è€…èƒ½å¤Ÿæ­£ç¡®çš„é…ç½®ï¼Œéƒ½ä¼šæä¾›xmlçš„è§„èŒƒæ–‡ä»¶ï¼ˆdtd\xsdï¼‰  --&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDAO&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.dao.BookDAOImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;txManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.qfedu.dao.utils.TxManager&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å£°æ˜åˆ‡å…¥ç‚¹--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;book_all&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.qfedu.dao.BookDAOImpl.*(..))&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--å£°æ˜txManagerä¸ºåˆ‡é¢--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;txManager&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--å¢å¼º--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;begin&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;book_all&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:before</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">&quot;commit&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;book_all&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:after</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>AOPå¼€å‘æ­¥éª¤ï¼š</code></p>
<ol>
<li>åˆ›å»ºåˆ‡é¢ç±»ï¼Œåœ¨åˆ‡é¢ç±»å®šä¹‰åˆ‡ç‚¹æ–¹æ³•</li>
<li>å°†åˆ‡é¢ç±»é…ç½®ç»™Springå®¹å™¨</li>
<li>å£°æ˜åˆ‡å…¥ç‚¹</li>
<li>é…ç½®AOPçš„é€šçŸ¥ç­–ç•¥</li>
</ol>
<h2 id="5-4-åˆ‡å…¥ç‚¹çš„å£°æ˜"><a href="#5-4-åˆ‡å…¥ç‚¹çš„å£°æ˜" class="headerlink" title="5.4 åˆ‡å…¥ç‚¹çš„å£°æ˜"></a>5.4 åˆ‡å…¥ç‚¹çš„å£°æ˜</h2><h3 id="1-å„ç§åˆ‡å…¥ç‚¹å£°æ˜æ–¹å¼"><a href="#1-å„ç§åˆ‡å…¥ç‚¹å£°æ˜æ–¹å¼" class="headerlink" title="1. å„ç§åˆ‡å…¥ç‚¹å£°æ˜æ–¹å¼"></a>1. å„ç§åˆ‡å…¥ç‚¹å£°æ˜æ–¹å¼</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ä½¿ç”¨aopï¼špointcutæ ‡ç­¾å£°æ˜åˆ‡å…¥ç‚¹ï¼šåˆ‡å…¥ç‚¹å¯ä»¥æ˜¯ä¸€ä¸ªæ–¹æ³•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;book_insert&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.qfedu.dao.BookDAOImpl.insert())&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--BookDAOImplç±»ä¸­æ‰€æœ‰æ— å‚æ•°æ— è¿”å›å€¼çš„æ–¹æ³•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;book_pc1&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(void com..qfedu.dao.BookDAOImpl.*())&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--BookDAOImplç±»ä¸­æ‰€æœ‰æ— è¿”å›å€¼çš„æ–¹æ³•ï¼Œå¯¹å‚æ•°æœ‰æ²¡æœ‰æ²¡æœ‰é™åˆ¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;book_pc2&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(void com..qfedu.dao.BookDAOImpl.*(..))&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--BookDAOImplç±»ä¸­æ‰€æœ‰æ— å‚æ•°çš„æ–¹æ³•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;book_pc3&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com..qfedu.dao.BookDAOImpl.*())&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--BookDAOImplç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;book_pc4&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com..qfedu.dao.BookDAOImpl.*(..))&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--daoåŒ…ä¸­æ‰€æœ‰ç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pc5&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com..qfedu.dao.*.*(..))&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--daoåŒ…ä¸­æ‰€æœ‰ç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pc6&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com..qfedu.dao.*.insert(..))&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ‰€æœ‰åŒ…ä¸‹çš„æ‰€æœ‰ç±»çš„æ‰€æœ‰æ–¹æ³•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;pc7&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* *(..))&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-AOPä½¿ç”¨æ³¨æ„äº‹é¡¹"><a href="#2-AOPä½¿ç”¨æ³¨æ„äº‹é¡¹" class="headerlink" title="2. AOPä½¿ç”¨æ³¨æ„äº‹é¡¹"></a>2. AOPä½¿ç”¨æ³¨æ„äº‹é¡¹</h3><ul>
<li>å¦‚æœä½¿ç”¨Spring AOPé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œè°ƒç”¨åˆ‡å…¥ç‚¹æ–¹æ³•çš„å¯¹è±¡å¿…é¡»é€šè¿‡Springå®¹å™¨è·å–</li>
<li>å¦‚æœä¸€ä¸ªç±»ä¸­çš„æ–¹æ³•è¢«å£°æ˜ä¸ºåˆ‡å…¥ç‚¹å¹¶ä¸”ç»‡å…¥äº†åˆ‡ç‚¹ä¹‹åï¼Œé€šè¿‡Springå®¹å™¨è·å–åˆ°çš„è¯¥ç±»å¯¹è±¡å…¶å®è·å–åˆ°çš„æ˜¯ä¸€ä¸ªè¯¥ç±»çš„ä»£ç†å¯¹è±¡</li>
<li>å¦‚æœä¸€ä¸ªç±»ä¸­çš„æ–¹æ³•æ²¡æœ‰å£°æ˜ä¸ºåˆ‡å…¥ç‚¹ï¼Œé€šè¿‡Springå®¹å™¨è·å–çš„å°±æ˜¯è¿™ä¸ªç±»çœŸå®åˆ›å»ºçš„å¯¹è±¡</li>
</ul>
<h2 id="5-5-AOPé€šçŸ¥ç­–ç•¥"><a href="#5-5-AOPé€šçŸ¥ç­–ç•¥" class="headerlink" title="5.5 AOPé€šçŸ¥ç­–ç•¥"></a>5.5 AOPé€šçŸ¥ç­–ç•¥</h2><blockquote>
<p>AOPé€šçŸ¥ç­–ç•¥ï¼šå°±æ˜¯å£°æ˜å°†åˆ‡é¢ç±»ä¸­çš„åˆ‡ç‚¹æ–¹æ³•å¦‚ä½•ç»‡å…¥åˆ°åˆ‡å…¥ç‚¹</p>
<ul>
<li>before</li>
<li>after-returning</li>
<li>after-throwing</li>
<li>around</li>
<li>after</li>
</ul>
</blockquote>
<h3 id="1-å®šä¹‰åˆ‡é¢ç±»"><a href="#1-å®šä¹‰åˆ‡é¢ç±»" class="headerlink" title="1.å®šä¹‰åˆ‡é¢ç±»"></a>1.å®šä¹‰åˆ‡é¢ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.dao.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@auther</span> xiaochen</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2022-04-19 9:10</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAspect</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;method1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;method2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method3</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;method3&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method4</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;method4&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç¯ç»•é€šçŸ¥çš„åˆ‡ç‚¹æ–¹æ³•ï¼Œå¿…é¡»å‡†å®ˆå¦‚ä¸‹çš„å®šä¹‰è§„åˆ™ï¼š</span></span><br><span class="line">    <span class="comment">//1.å¿…é¡»å¸¦æœ‰ä¸€ä¸ªProceedingJoinPointç±»å‹çš„å‚æ•°</span></span><br><span class="line">    <span class="comment">//2.å¿…é¡»æœ‰Objectç±»å‹çš„è¿”å›å€¼</span></span><br><span class="line">    <span class="comment">//3.åœ¨å‰åå¢å¼ºçš„ä¸šåŠ¡é€»è¾‘ä¹‹é—´æ‰§è¡ŒObject v = point.proceed();</span></span><br><span class="line">    <span class="comment">//4.æ–¹æ³•æœ€åè¿”å›v</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">method5</span><span class="params">(ProceedingJoinPoint point)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;method5-before&quot;</span>);</span><br><span class="line">        <span class="comment">//æ­¤ä»£ç çš„æ‰§è¡Œï¼Œå°±è¡¨ç¤ºåˆ‡å…¥ç‚¹æ–¹æ³•çš„æ‰§è¡Œ</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">v</span> <span class="operator">=</span> point.proceed();</span><br><span class="line">        System.out.println(<span class="string">&quot;method5-after&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-é…ç½®åˆ‡é¢ç±»"><a href="#2-é…ç½®åˆ‡é¢ç±»" class="headerlink" title="2. é…ç½®åˆ‡é¢ç±»"></a>2. é…ç½®åˆ‡é¢ç±»</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;myAspect&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--aop:before  ç”¨äºé…ç½®å‰ç½®é€šçŸ¥ï¼Œåˆ‡å…¥åˆ°æŒ‡å®šåˆ‡å…¥ç‚¹ä¹‹å‰æ‰§è¡Œ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;method1&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;book_insert&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--aop:after-throwing  ç”¨äºé…ç½®å¼‚å¸¸é€šçŸ¥ï¼Œåˆ‡å…¥ç‚¹æ–¹æ³•æŠ›å‡ºå¼‚å¸¸åæ‰§è¡Œ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:after-throwing</span> <span class="attr">method</span>=<span class="string">&quot;method3&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;book_insert&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--aop:after-returning ç”¨äºé…ç½®åç½®é€šçŸ¥ï¼Œåˆ‡å…¥åˆ°æŒ‡å®šåˆ‡å…¥ç‚¹ä¹‹åæ‰§è¡Œã€‚</span></span><br><span class="line"><span class="comment">    å¯¹äºä¸€ä¸ªJavaæ–¹æ³•è€Œè¨€ï¼Œreturnè¿”å›å€¼ä¹Ÿæ˜¯æ–¹æ³•çš„ä¸€éƒ¨åˆ†</span></span><br><span class="line"><span class="comment">    å› æ­¤â€œæ–¹æ³•è¿”å›å€¼è¿”å›ä¹‹åâ€å’Œâ€œæ–¹æ³•æ‰§è¡Œç»“æŸâ€æ˜¯åŒä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œæ‰€ä»¥afterå’Œafter-returningæ˜¯æ ¹æ®</span></span><br><span class="line"><span class="comment">    é…ç½®çš„é¡ºåºå†³å®šæ‰§è¡Œé¡ºåº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:after-returning</span> <span class="attr">method</span>=<span class="string">&quot;method4&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;book_insert&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--ç¯ç»•é€šçŸ¥  ç”¨äºé…ç½®ç¯ç»•é€šçŸ¥ã€‚æŒ‡å®šå¢å¼ºçš„æ–¹æ³•åœ¨åˆ‡å…¥ç‚¹æ–¹æ³•ä¹‹å‰å’Œä¹‹åéƒ½æ‰§è¡Œ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:around</span> <span class="attr">method</span>=<span class="string">&quot;method5&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;book_insert&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--aop:after  ç”¨äºé…ç½®æœ€ç»ˆé€šçŸ¥ã€‚æ— è®ºå¢å¼ºæ–¹å¼æ—¶å€™æ‰§è¡Œæ˜¯å¦æœ‰å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:after</span> <span class="attr">method</span>=<span class="string">&quot;method2&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;book_insert&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="å…­ã€Spring-AOPæ³¨è§£é…ç½®"><a href="#å…­ã€Spring-AOPæ³¨è§£é…ç½®" class="headerlink" title="å…­ã€Spring AOPæ³¨è§£é…ç½®"></a>å…­ã€Spring AOPæ³¨è§£é…ç½®</h1><h2 id="6-1-Spring-AOPæ³¨è§£é…ç½®æ¡†æ¶éƒ¨ç½²"><a href="#6-1-Spring-AOPæ³¨è§£é…ç½®æ¡†æ¶éƒ¨ç½²" class="headerlink" title="6.1 Spring AOPæ³¨è§£é…ç½®æ¡†æ¶éƒ¨ç½²"></a>6.1 Spring AOPæ³¨è§£é…ç½®æ¡†æ¶éƒ¨ç½²</h2><h4 id="1-åˆ›å»ºMavenå·¥ç¨‹-1"><a href="#1-åˆ›å»ºMavenå·¥ç¨‹-1" class="headerlink" title="1.åˆ›å»ºMavenå·¥ç¨‹"></a>1.åˆ›å»ºMavenå·¥ç¨‹</h4><p>ç•¥</p>
<h4 id="2-æ·»åŠ Springä¾èµ–"><a href="#2-æ·»åŠ Springä¾èµ–" class="headerlink" title="2.æ·»åŠ Springä¾èµ–"></a>2.æ·»åŠ Springä¾èµ–</h4><ul>
<li>context</li>
<li>aspects</li>
</ul>
<h4 id="3-Springé…ç½®æ–‡ä»¶"><a href="#3-Springé…ç½®æ–‡ä»¶" class="headerlink" title="3.Springé…ç½®æ–‡ä»¶"></a>3.Springé…ç½®æ–‡ä»¶</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:annotation-config</span>&gt;</span><span class="tag">&lt;/<span class="name">context:annotation-config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.qfedu&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åŸºäºæ³¨è§£é…ç½®çš„aopä»£ç†--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span>&gt;</span><span class="tag">&lt;/<span class="name">aop:aspectj-autoproxy</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="6-2-AOPæ³¨è§£é…ç½®æ¡ˆä¾‹"><a href="#6-2-AOPæ³¨è§£é…ç½®æ¡ˆä¾‹" class="headerlink" title="6.2 AOPæ³¨è§£é…ç½®æ¡ˆä¾‹"></a>6.2 AOPæ³¨è§£é…ç½®æ¡ˆä¾‹</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qfedu.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@auther</span> xiaochen</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2022-04-19 14:52</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TransactionManager</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.qfedu.dao.*.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pc1</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before(&quot;pc1()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">begin</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å¯äº‹åŠ¡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After(&quot;pc1()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">commit</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æäº¤äº‹åŠ¡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;pc1()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">printExecuteTime</span><span class="params">(ProceedingJoinPoint point)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">long</span> <span class="variable">time1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">            <span class="type">Object</span> <span class="variable">v</span> <span class="operator">=</span> point.proceed();</span><br><span class="line">            <span class="type">long</span> <span class="variable">time2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">            System.out.println(<span class="string">&quot;æ–¹æ³•æ‰§è¡Œæ—¶é—´:&quot;</span> + (time2 - time1));</span><br><span class="line">            <span class="keyword">return</span> v;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>æ³¨æ„ï¼š</code>æ³¨è§£ä½¿ç”¨è™½ç„¶æ–¹ä¾¿ï¼Œä½†æ˜¯åªèƒ½åœ¨æºç ä¸Šæ·»åŠ æ³¨è§£ï¼Œå› æ­¤æˆ‘ä»¬çš„è‡ªå®šä¹‰ç±»æå€¡ä½¿ç”¨æ³¨è§£é…ç½®ï¼›ä½†å¦‚æœä½¿ç”¨åˆ°ç¬¬ä¸‰æ–¹æä¾›çš„ç±»åˆ™éœ€è¦é€šè¿‡xmlé…ç½®å½¢å¼å®Œæˆé…ç½®ã€‚</p>
<h1 id="ä¸ƒã€Springæ•´åˆMyBatis"><a href="#ä¸ƒã€Springæ•´åˆMyBatis" class="headerlink" title="ä¸ƒã€Springæ•´åˆMyBatis"></a>ä¸ƒã€Springæ•´åˆMyBatis</h1><blockquote>
<p>Spring ä¸¤å¤§æ ¸å¿ƒæ€æƒ³ï¼šIoC å’ŒAOP</p>
<p>IoCï¼šæ§åˆ¶åè½¬ï¼ŒSpringå®¹å™¨å¯ä»¥å®Œæˆå¯¹è±¡çš„åˆ›å»ºã€å±æ€§æ³¨å…¥ã€å¯¹è±¡ç®¡ç†ç­‰å·¥ä½œ</p>
<p>AOPï¼šé¢å‘åˆ‡é¢ï¼Œåœ¨ä¸ä¿®æ”¹åŸæœ‰ä¸šåŠ¡é€»è¾‘çš„æƒ…å†µä¸‹ï¼Œå®ç°åŸæœ‰ä¸šåŠ¡çš„å¢å¼º</p>
</blockquote>
<h2 id="7-1-Springå¯ä»¥å¯¹MyBatisæä¾›å“ªäº›æ”¯æŒ"><a href="#7-1-Springå¯ä»¥å¯¹MyBatisæä¾›å“ªäº›æ”¯æŒ" class="headerlink" title="7.1 Springå¯ä»¥å¯¹MyBatisæä¾›å“ªäº›æ”¯æŒ"></a>7.1 Springå¯ä»¥å¯¹MyBatisæä¾›å“ªäº›æ”¯æŒ</h2><ul>
<li><strong>IoCæ”¯æŒï¼š</strong>SpringIoCå¯ä»¥ä¸ºMyBatiså®ŒæˆDataSourceã€SQLSessionFactoryã€SQLSessionä»¥åŠDAOå¯¹è±¡çš„åˆ›å»ºã€‚</li>
<li><strong>AOPæ”¯æŒï¼š</strong>ä½¿ç”¨Springæä¾›çš„äº‹åŠ¡ç®¡ç†åˆ‡é¢ç±»å®Œæˆå¯¹MyBatisæ•°æ®åº“æ“ä½œä¸­çš„äº‹åŠ¡ç®¡ç†</li>
</ul>
<h2 id="7-2-Springæ•´åˆMyBatiså‡†å¤‡å·¥ä½œ"><a href="#7-2-Springæ•´åˆMyBatiså‡†å¤‡å·¥ä½œ" class="headerlink" title="7.2 Springæ•´åˆMyBatiså‡†å¤‡å·¥ä½œ"></a>7.2 Springæ•´åˆMyBatiså‡†å¤‡å·¥ä½œ</h2><h3 id="1-åˆ›å»ºMavenå·¥ç¨‹-2"><a href="#1-åˆ›å»ºMavenå·¥ç¨‹-2" class="headerlink" title="1.åˆ›å»ºMavenå·¥ç¨‹"></a>1.åˆ›å»ºMavenå·¥ç¨‹</h3><p>ç•¥</p>
<h3 id="2-éƒ¨ç½²MyBatisæ¡†æ¶"><a href="#2-éƒ¨ç½²MyBatisæ¡†æ¶" class="headerlink" title="2.éƒ¨ç½²MyBatisæ¡†æ¶"></a>2.éƒ¨ç½²MyBatisæ¡†æ¶</h3><ul>
<li><p>æ·»åŠ ä¾èµ–</p>
<ul>
<li>MySQLé©±åŠ¨</li>
<li>MyBatis</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºMyBatisé…ç½®æ–‡ä»¶mybatis-config.xml(åˆ›å»ºé…ç½®æ–‡ä»¶ä¹‹åæ— éœ€è¿›è¡Œä»»ä½•é…ç½®)</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-éƒ¨ç½²Springæ¡†æ¶"><a href="#3-éƒ¨ç½²Springæ¡†æ¶" class="headerlink" title="3.éƒ¨ç½²Springæ¡†æ¶"></a>3.éƒ¨ç½²Springæ¡†æ¶</h3><ul>
<li>æ·»åŠ ä¾èµ–</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.13.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.13.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.13.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ›å»ºSpringé…ç½®æ–‡ä»¶ï¼šapplicationContext.xml</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">       http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="string"><span class="tag">        http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-æ·»åŠ Springæ•´åˆMyBatisçš„ä¾èµ–"><a href="#4-æ·»åŠ Springæ•´åˆMyBatisçš„ä¾èµ–" class="headerlink" title="4.æ·»åŠ Springæ•´åˆMyBatisçš„ä¾èµ–"></a>4.æ·»åŠ Springæ•´åˆMyBatisçš„ä¾èµ–</h3><ul>
<li>mybatis-spring  å°±æ˜¯mybatisæä¾›çš„å…¼å®¹Springçš„è¡¥ä¸</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis-spring --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="7-3-Springæ•´åˆMyBatisæ•´åˆIoCé…ç½®"><a href="#7-3-Springæ•´åˆMyBatisæ•´åˆIoCé…ç½®" class="headerlink" title="7.3 Springæ•´åˆMyBatisæ•´åˆIoCé…ç½®"></a>7.3 Springæ•´åˆMyBatisæ•´åˆIoCé…ç½®</h2><h3 id="1-æ•´åˆDruidè¿æ¥æ± "><a href="#1-æ•´åˆDruidè¿æ¥æ± " class="headerlink" title="1.æ•´åˆDruidè¿æ¥æ± "></a>1.æ•´åˆDruidè¿æ¥æ± </h3><ul>
<li>æ·»åŠ druidçš„ä¾èµ–</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--druidçš„ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ›å»ºdruid.propertieså±æ€§æ–‡ä»¶</li>
</ul>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">druid.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">druid.url</span>=<span class="string">jdbc:mysql://localhost:3306/db1?characterEncoding=utf-8</span></span><br><span class="line"><span class="attr">druid.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">druid.password</span>=<span class="string">123456</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">## è¿æ¥æ± å‚æ•°</span></span><br><span class="line"><span class="comment">#åˆå§‹åŒ–è¿æ¥æ•°</span></span><br><span class="line"><span class="attr">druid.pool.init</span>=<span class="string">1</span></span><br><span class="line"><span class="comment">#åˆå§‹åŒ–è¿æ¥æ•°</span></span><br><span class="line"><span class="attr">druid.pool.minIdle</span>=<span class="string">3</span></span><br><span class="line"><span class="attr">druid.pool.maxActive</span>=<span class="string">20</span></span><br><span class="line"><span class="attr">druid.pool.timeout</span>=<span class="string">30000</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨applicationContext.xmlä¸­é…ç½®DruidDataSource</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--åŠ è½½durid.propertieså±æ€§æ–‡ä»¶--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:druid.properties&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--ä¾èµ–Springå®¹å™¨å®Œæˆæ•°æ®æºDataSourceçš„åˆ›å»º--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;druidDataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.url&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.username&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.password&#125;&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;initialSize&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.pool.init&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minIdle&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.pool.minIdle&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxActive&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.pool.maxActive&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxWait&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;druid.pool.timeout&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-æ•´åˆMyBatis-åˆ›å»ºSQLSessionFactory"><a href="#2-æ•´åˆMyBatis-åˆ›å»ºSQLSessionFactory" class="headerlink" title="2.æ•´åˆMyBatis-åˆ›å»ºSQLSessionFactory"></a>2.æ•´åˆMyBatis-åˆ›å»ºSQLSessionFactory</h3><blockquote>
<p>ä¾èµ–Springå®¹å™¨åˆ›å»ºMyBatisçš„SQLSessionFactoryå¯¹è±¡</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ä¾èµ–Springå®¹å™¨å®ŒæˆMyBatisçš„SQLSessionFactoryå¯¹è±¡çš„åˆ›å»º--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®æ•°æ®æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;druidDataSource&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®mapperæ˜ å°„æ–‡ä»¶çš„è·¯å¾„--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;mapperLocations&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mappers/*Mapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--é…ç½®éœ€è¦å®šä¹‰åˆ«åçš„å®ä½“ç±»çš„åŒ…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;typeAliases&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.qfedu.pojo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¯é€‰ï¼šé…ç½®MyBatisçš„ä¸»é…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-æ•´åˆMyBatis-åˆ›å»ºMapper"><a href="#3-æ•´åˆMyBatis-åˆ›å»ºMapper" class="headerlink" title="3. æ•´åˆMyBatis-åˆ›å»ºMapper"></a>3. æ•´åˆMyBatis-åˆ›å»ºMapper</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--åŠ è½½daoåŒ…ä¸­çš„æ‰€æœ‰DAOæ¥å£ï¼Œé€šè¿‡sqlSessionFactoryè·å–SQLSessionï¼Œç„¶ååˆ›å»ºæ‰€æœ‰çš„DAOæ¥å£å¯¹è±¡</span></span><br><span class="line"><span class="comment">å­˜å‚¨åœ¨Springå®¹å™¨ä¸­--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactoryBeanName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;sqlSessionFactory&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.qfedu.dao&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="7-4-Springæ•´åˆMyBatisæ•´åˆAOPé…ç½®"><a href="#7-4-Springæ•´åˆMyBatisæ•´åˆAOPé…ç½®" class="headerlink" title="7.4 Springæ•´åˆMyBatisæ•´åˆAOPé…ç½®"></a>7.4 Springæ•´åˆMyBatisæ•´åˆAOPé…ç½®</h2><blockquote>
<p>ä½¿ç”¨Springæä¾›çš„äº‹åŠ¡ç®¡ç†åˆ‡é¢ç±»ï¼Œå®ŒæˆDAOä¸­å¢åˆ æ”¹æ“ä½œçš„äº‹åŠ¡ç®¡ç†</p>
</blockquote>
<h3 id="1-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"><a href="#1-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«" class="headerlink" title="1.äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"></a>1.äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</h3></div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="æ‰“èµ" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><span class="icon iconify" data-icon="ri:hand-coin-line"></span></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="/images/alipay.jpg"><img loading="lazy" src="/images/alipay.jpg" alt="æ”¯ä»˜å®" title="æ”¯ä»˜å®"></a><div><span style="color:#00A3EE"><span class="icon iconify" data-icon="ri:alipay-line"></span></span></div></div><div style="display:inline-block"><a href="/images/wechatpay.jpg"><img loading="lazy" src="/images/wechatpay.jpg" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><span class="icon iconify" data-icon="ri:wechat-pay-line"></span></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>ä¸¸äº†é¸­</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://cyh245689173.github.io/2022/04/01/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Springå­¦ä¹ ç¬”è®°">https://cyh245689173.github.io/2022/04/01/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> è®¸å¯åè®®ã€‚</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2022/04/02/Leecode-20-%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7/" rel="prev" title="Leecode 20 æœ‰æ•ˆçš„æ‹¬å·"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">Leecode 20 æœ‰æ•ˆçš„æ‹¬å·</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2022/04/01/Leecode-83-%E5%88%A0%E9%99%A4%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%9A%84%E9%87%8D%E5%A4%8D%E5%85%83%E7%B4%A0/" rel="next" title="Leecode 83 åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ "><span class="post-nav-text">Leecode 83 åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ </span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¦ä¸è¦å’Œæˆ‘è¯´äº›ä»€ä¹ˆï¼Ÿ</span><br></div><div id="valine-container"></div><script type="module">import { getScript } from '/js/utils.js'
getScript("https://fastly.jsdelivr.net/npm/valine@latest/dist/Valine.min.js", () => {
  const valineConfig = {"enable":true,"appId":"KE7GLrwmrIL3DMv4Lvy7NDwb-gzGzoHsz","appKey":"Ie0kEhvYU883vW9Mw4re3Vlg","placeholder":"æœŸå¾…æ‚¨ç»™æˆ‘æå‡ºçš„æ”¹è¿›","avatar":null,"pageSize":10,"visitor":true,"highlight":true,"recordIP":false,"enableQQ":true,"el":"#valine-container","lang":"zh-cn"}
  valineConfig.path = "/2022/04/01/Spring%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"
  new Valine(valineConfig)
}, window.Valine);</script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2020 â€“ 2022 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> ä¸¸äº†é¸­</span></div><div class="live-time"><span>æœ¬åšå®¢å·²èŒèŒå“’åœ°è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(*â•¹â–½â•¹*)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2021-01-03T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = ` ${passDay} å¤© ${passHour} å°æ—¶ ${passMinute} åˆ† ${passSecond} ç§’`;
}
blog_live_time();
</script></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="æƒ³è¦æœäº›ä»€ä¹ˆï¼Ÿ" value=""></div><div class="search-result-container"></div></div><script src="https://fastly.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script><script>const images = [...document.querySelectorAll('.markdown-body img')]
mediumZoom(images)</script><style>.medium-zoom-image {
  z-index: 99;
}</style></body></html>